
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
      Extension of Stay Application Form - {{ worker.get_full_name }}
    </title>
    {% load static %}
    <link href="{% static 'vendor/fonts/google-fonts.css' %}" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/button-mini.css' %}">
    <style>
        @page{
            size: A4;
        }


        @media print {
        *{
            padding-left:0 !important;
            padding-right: 0 !important;
        }
        .print-padding{
          padding-left:2px !important;
          padding-right: 2px !important;
        }
        .line-top{
          margin-top:-10px !important;
        }
         .line-in{
          padding:0px !important;
          margin:0px !important;
        }
        body {
            background: white;
            padding: 0 !important;
            margin: 0 !important;
        }

        }

        .moul-regular {
            font-family: "Moul", serif;
            font-weight: 400;
            font-style: normal;
        }
        .time-roman{
            font-family: 'Times New Roman', Times, serif;
            font-style: normal;
        }
        .noto-sans-sc-500 {
        font-family: "Noto Sans SC", sans-serif;
        font-optical-sizing: auto;
        font-weight: 500;
        font-style: normal;
        }
        .kh-content-regular {
        font-family: "Content", system-ui;
        font-weight: 400;
        font-style: normal;
        }

        .kh-content-bold {
        font-family: "Content", system-ui;
        font-weight: 700;
        font-style: normal;
        }
                
    </style>
    <script src="{% static 'js/tailwindcss.js' %}"></script>
  </head>
  <body>
    <div class="flex justify-between items-center px-20 py-3 border-b border-gray-200">
      <a href="{% url 'eform:extension_form' %}" class="flex items-center space-x-2">
       
        <span>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-5">
                <path stroke-linecap="round" stroke-linejoin="round" d="M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18" />
            </svg>                  
        </span>
        <span class="text-sm">Back</span>
      </a>

      <h1 class="text-sm text-gray-700 font-medium"> Extension of Stay Application Form for <span class="font-semibold">{{ worker.get_full_name }}</span> </h1>

      <button onclick="printDiv('appContent')" class="button-min-primary">
       
       <div>
        <i class="fa fa-print"></i>
        <span>Print Form</span>
       </div>

      </button>
    </div>

    <div id="appContent" class="relative border border-gray-100 w-[250mm] min-h-[297mm] h-auto bg-white shadow mx-auto my-10 p-8 print:w-[230mm] :shadow-none print:p-0 print:m-0 print:border-none">
      <!-- Header -->
      <div class="flex justify-between w-full print:w-full">
        <div class=" text-center space-y-1">
            <div class="space-y-1">
                <h2 class="moul-regular text-[14px]">ក្រសួងមហាផ្ទៃ</h2>
                <h3 class="time-roman text-[14px]">Ministry of Interior / 内政部</h3>
            </div>
          
          <div class="space-y-1">
            <h2 class="moul-regular text-[14px]">អគ្គនាយកដ្ឋានអន្តោប្រវេសន៍</h2>
            <h3 class="time-roman text-[14px]">General Department of Immigration / 移民总局</h3>
          </div>
  
        </div>
      
        <div class=" text-center space-y-1">
            <div class="space-y-1">
                <h2 class="moul-regular text-[14px]">ព្រះរាជាណាចក្រកម្ពុជា</h2>
                <h3 class="time-roman text-[14px]">Kingdom of Cambodia / 柬埔寨王国</h3>
            </div>
          
          <div class="space-y-1">
            <h2 class="moul-regular text-[14px]">ជាតិ សាសនា ព្រះមហាក្សត្រ</h2>
            <h3 class="time-roman text-[14px]">Nation Religion King / 国家 宗教 国王</h3>
          </div>
  
        </div>
      </div>

      <!-- Title -->
      <div class="w-full mt-5 text-center space-y-1.5 ">
        <h2 class="moul-regular text-[14px]">ពាក្យស្នើសុំបន្តការស្នាក់នៅបណ្ដោះអាសន្ន</h2>
        <h3 class="time-roman text-[14px] font-semibold print:mb-0">Extension of Stay Application Form</h3>
        <h3 class="noto-sans-sc-500 text-[14px] mb-0 pb-0 print:mb-0 print:pb-0">延长逗留期限申请表</h3>
        <div class="w-full flex justify-center -mt-2 print:-mt-2 line-top">
            <div class="p-0 m-0 print:m-0 print:p-0 line-in">-------</div>
        </div>
      </div>
      <!-- Title -->
      <!-- photo box -->
        <div class="mt-3 flex justify-between pt-1 relative">
            <div class=" space-y-0.5 flex-1">
                <h2 class="kh-content-regular text-[12px]">សូមបំពេញព័ត៌មានខាងក្រោមជាភាសាអង់គ្លេស</h2>
                <h2 class="time-roman text-[14px]">Please fill in the following information in English / 请用英文填写以下信息</h2>
            </div>
              <div class="flex-shrink-0 absolute right-0 -top-10">
                <div class="border border-gray-300 w-[96px] h-[116px] bg-white">
                  <div class="flex flex-col justify-center items-center text-sm h-full text-gray-600">
                    <span class="text-xs"> រូបថត</span>
                    <span class="font-semibold text-sm">PHOTO</span>
                     <span class="text-xs">4 x 6</span>
                 </div>
                   
                </div>
              </div>
         </div>
      <!-- photo box -->
   


      <div class="mt-1">
        <div class="w-full">
            <div class="flex items-center space-x-2 font-medium">
                <span class="-mt-1">-</span>
                <h2 class="kh-content-regular text-[12px]">នាម</h2>
            </div>
            <div class="flex justify-start items-end space-x-2 -mt-1">
                <h3 class="text-[12px] time-roman ml-4 font-medium w-[90px]">Surname / 姓 :</h3>
                <span class="w-full border-b border-dashed"></span>
                <h3 class=" time-roman text-[16px] font-semibold absolute left-[50%] print:left-[50%]">{{ worker.last_name|upper }}</h3>
            </div>
        </div>

        <div class="w-full mt-2">
            <div class="flex items-center space-x-2 font-medium">
                <span class="-mt-1">-</span>
                <h2 class="kh-content-regular text-[12px]">គោត្តនាម</h2>
            </div>
            <div class="flex justify-start items-end space-x-2 -mt-1">
                <h3 class="text-[12px] time-roman ml-4 font-medium w-[130px]">Giving Name / 姓 :</h3>
                <span class="w-full border-b border-dashed"></span>
                <h3 class=" time-roman text-[16px] font-semibold absolute left-[50%] print:left-[50%]">{{ worker.first_name|upper }}</h3>
            </div>
        </div>

        

      </div>
      <div class="w-full mt-2 flex justify-between items-start">
            <div>
                <div class="flex items-center space-x-2 font-medium">
                    <span class="-mt-1">-</span>
                    <h2 class="kh-content-regular text-[12px]">ថ្ងៃ ខែ ឆ្នាំកំណើត</h2>
                </div>
                <div class="flex justify-start items-end space-x-2 -mt-1">
                    <h3 class="text-[12px] time-roman ml-4 font-medium w-[290px]">Date of birth / 出生日期 :</h3>
                    <span class="w-full border-b border-dashed"></span>
                    <h3 class=" time-roman text-[14px] font-medium absolute left-[22%] print:left-[20%]">
                      {% if worker.dob %} {{ worker.dob|date:"d / M / Y" }} {% endif%}
                      
                    </h3>
                </div>
            </div>
            <div class="relative print:-ml-9">
              <div class="flex items-start space-x-2 font-medium ">
                <h2 class="kh-content-regular text-[12px]">សញ្ជាតិ</h2>
              </div>
              <div class="flex justify-start items-end space-x-2 -mt-1">
                <h3 class="text-[13px] time-roman font-medium w-[220px]">Nationality / 国籍 :</h3>
                <span class="w-full border-b border-dashed"></span>
                <h3 class=" time-roman text-[14px] font-medium absolute left-[49%]">
                  {{ worker.get_nationality_display|upper }}
                </h3>
            </div>
            </div>
            <div class="flex space-x-5 print:space-x-2 ">
              <div>
                <div class="flex items-center space-x-2 font-medium ">
                  <h2 class="kh-content-regular text-[12px]">ភេទ</h2>
                </div>
                <div class="flex justify-start items-end space-x-2 -mt-1">
                    <h3 class="text-[12px] time-roman font-medium">Sex / 性别 :</h3>
                </div>
              </div>
              <div>
                <div class="flex items-center space-x-2 font-medium ">
                  <h2 class="kh-content-regular text-[12px]">ប្រុស</h2>
                  <div class="border w-3 h-3 flex items-center justify-center">
                    {% if worker.sex == "M" %}
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-3">
                      <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5" />
                    </svg>  
                    {% endif %}                  
                  </div>
                </div>
                <div class="flex justify-start items-end space-x-2 -mt-1">
                    <h3 class="text-[12px] time-roman font-medium ">Male / 男性</h3>
                </div>
              </div>
              <div>
                <div class="flex items-center space-x-2 font-medium ">
                  <h2 class="kh-content-regular text-[12px]">ស្រី</h2>
                  
                  <div class="border w-3 h-3 flex items-center justify-center">
                    {% if worker.sex == "F" %}
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-3">
                      <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5" />
                    </svg>  
                    {% endif %}    
                  </div>
                  
                </div>
                <div class="flex justify-start items-end space-x-2 -mt-1">
                    <h3 class="text-[13px] time-roman font-medium ">Female / 女性</h3>
                </div>
              </div>
            </div>
      </div>
      <div class="w-full mt-2 flex justify-between items-start ">
        <div>
          <div class="flex items-center space-x-2 font-medium">
            <span class="-mt-1">-</span>
            <h2 class="kh-content-regular text-[12px]">លេខលិខិតឆ្លងដែន</h2>
          </div>
          <div class="flex justify-start items-end space-x-2 -mt-1">
              <h3 class="text-[12px] time-roman ml-4 font-medium w-[290px]">Passport No / 护照号码 :</h3>
              <span class="w-full border-b border-dashed"></span>
              <h3 class=" time-roman text-[14px] font-medium absolute left-[22%] print:left-[20%]">{{ extension.passport_number }}</h3>
          </div>
        </div>

        <div class=" relative">
          <div class="flex items-center space-x-2 font-medium">
            <h2 class="kh-content-regular text-[12px]">ចេញថ្ងៃ</h2>
          </div>
          <div class="flex justify-start items-end space-x-2 -mt-1">
              <h3 class="text-[13px] time-roman font-medium w-[230px]">Isussed / 伊苏塞德 :</h3>
              <span class="w-full border-b border-dashed"></span>
              <h3 class=" time-roman text-[14px] font-medium absolute left-[55%]">
        
                {% for document in documents %}
                  {% if document.document_type == "passport" %}
                    <span>{{ document.issue_date|date:'d / M / Y'|default:""}}</span>
                  {% endif%} 
                {% endfor %}
              </h3>
          </div>
          
        </div>
        <div class=" relative">

          <div class="flex items-center space-x-2 font-medium">
            <h2 class="kh-content-regular text-[12px]">ផុតកំណត់ថ្ងៃ</h2>
          </div>
          <div class="flex justify-start items-end space-x-2 -mt-1">
              <h3 class="text-[12px] time-roman font-medium w-[220px]">Expiration / 过期 :</h3>
              <span class="w-full border-b border-dashed"></span>
              <h3 class=" time-roman text-[14px] font-medium absolute left-[55%] print:left-[51%]">
                {% if extension.passport_expiry_date %}
                  {{ extension.passport_expiry_date|date:'d / M / Y' }}
                {% else %}
                  {% for document in documents %}
                    {% if document.document_type == "passport" %}
                      {{ document.expiry_date|date:'d / M / Y'|default:"" }}
                    {% endif %} 
                  {% endfor %}
                {% endif %}
              </h3>
          </div>
          
        </div>
      </div>

      <div class="w-full border-b-2 py-2"></div>


      <div class="w-full mt-1 flex justify-start items-start space-x-5">
        <div>
          <div class="flex items-center space-x-2 font-medium">
            <span class="-mt-1">-</span>
            <h2 class="kh-content-regular text-[12px]">លេខទិដ្ឋាការ</h2>
          </div>
          <div class="flex justify-start items-end space-x-2 -mt-1">
              <h3 class="text-[12px] time-roman ml-4 font-medium w-[330px]">Current Visa No / 签证号码 :</h3>
              <span class="w-full border-b border-dashed"></span>
              <h3 class=" time-roman text-[14px] font-medium absolute left-[24%] print:left-[20%]">{{ extension.current_visa_number|default:"" }}</h3>
          </div>
        </div>

        <div class=" relative w-full">
          <div class="flex items-center space-x-2 font-medium">
            <h2 class="kh-content-regular text-[12px]">ផ្ដល់នៅ</h2>
          </div>
          <div class="flex justify-start items-end space-x-2 -mt-1">
              <h3 class="text-[12px] time-roman font-medium w-[150px]">Issuing Post / 发帖 :</h3>
              <span class="w-full border-b border-dashed"></span>
              <h3 class=" time-roman text-[14px] font-medium absolute left-[27%] upper">
                PHNOM PENH
              </h3>
          </div>
          
        </div>
        
      </div>


      <div class="w-full mt-2 flex justify-start items-start space-x-5">
        <div>
          <div class="flex items-center space-x-2 font-medium">
            <span class="-mt-1">-</span>
            <h2 class="kh-content-regular text-[12px]">ស្នើសុំបន្តតការស្នាក់នៅរយពេល</h2>
          </div>
          <div class="flex justify-start items-end space-x-2 -mt-5 w-full">
              <h3 class="text-[12px] time-roman ml-4 font-medium w-[360px]">Apply for Permission of Stay for / 申请居留许可 :</h3>
              <div class="w-full flex items-center space-x-2">
                  <div class="border border-gray-500 rounded-lg p-0.5 print-padding">
                    <h2 class="kh-content-regular text-[12px]">១ខែ</h2>
                    <div class="flex justify-start items-center space-x-2 -mt-1">
                      <h3 class="text-[12px] time-roman font-medium ">1 month / 个月</h3>
                      <div class="border w-3 h-3 flex items-center justify-center">
                        {% if request_month == 1 %}
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-3">
                          <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5" />
                        </svg>  
                        {% endif %} 
                      </div>
                    </div>
                  </div>
                  <div class="border border-gray-500 rounded-lg p-0.5 print-padding">
                    <h2 class="kh-content-regular text-[12px]">៣ខែ</h2>
                    <div class="flex justify-start items-center space-x-2 -mt-1">
                      <h3 class="text-[12px] time-roman font-medium ">3 month / 个月</h3>
                      <div class="border w-3 h-3 flex items-center justify-center">
                        {% if request_month == 3 %}
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-3">
                          <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5" />
                        </svg>  
                        {% endif %}
                      </div>
                    </div>
                  </div>
                  <div class="border border-gray-500 rounded-lg p-0.5 print-padding">
                    <h2 class="kh-content-regular text-[12px]">៦ខែ</h2>
                    <div class="flex justify-start items-center space-x-2 -mt-1">
                      <h3 class="text-[12px] time-roman font-medium ">6 month / 个月</h3>
                      <div class="border w-3 h-3 flex items-center justify-center">
                        {% if request_month == 6 %}
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-3">
                          <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5" />
                        </svg>  
                        {% endif %}
                      </div>
                    </div>
                  </div>
                  <div class="border border-gray-500 rounded-lg p-0.5 print-padding">
                    <h2 class="kh-content-regular text-[12px]">១២ខែ</h2>
                    <div class="flex justify-start items-center space-x-2 -mt-1">
                      <h3 class="text-[12px] time-roman font-medium ">12 month / 个月</h3>
                      <div class="border w-3 h-3 flex items-center justify-center">
                        {% if request_month == 12 %}
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-3">
                          <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5" />
                        </svg>  
                        {% endif %}
                      </div>
                    </div>
                  </div>
                  <div class="border border-gray-500 rounded-lg p-0.5 print-padding">
                    <h2 class="kh-content-regular text-[12px]">២៤ខែ</h2>
                    <div class="flex justify-start items-center space-x-2 -mt-1">
                      <h3 class="text-[12px] time-roman font-medium ">24 month / 个月</h3>
                      <div class="border w-3 h-3 flex items-center justify-center">
                        {% if request_month == 24%}
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-3">
                          <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5" />
                        </svg>  
                        {% endif %}
                      </div>
                    </div>
                  </div>
              </div>
              
          </div>
        </div>      
      </div>

      <div class="w-full mt-1 flex justify-start items-start space-x-5">
        <div>
          <div class="flex items-center space-x-2 font-medium">
            <span class="-mt-1">-</span>
            <h2 class="kh-content-regular text-[12px]">គោលបំណងនៃកាស្នាក់នៅ</h2>
          </div>
          <div class="flex justify-start items-start space-x-2 -mt-5 w-full relative">
              <h3 class="text-[12px] time-roman ml-4 font-medium w-[220px] mt-4 ">Purpose of Staying / 停留目的 :</h3>
              <div class="w-full flex items-center space-x-2 ">
                  <div class="border border-gray-500 rounded-lg p-0.5 print-padding w-[120px]">
                    <h2 class="kh-content-regular text-[12px]">ការវិនិយោគ</h2>
                    <div class="flex justify-start items-center space-x-2 -mt-1">
                      <h3 class="text-[12px] time-roman font-medium ">Investment / 投资</h3>
                      <div class="border w-3 h-3 flex items-center justify-center">
                        {% if extension.extension_reason == ""%}
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-3">
                          <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5" />
                        </svg>
                        {% endif %} 
                      </div>
                    </div>
                  </div>
                  <div class="border border-gray-500 rounded-lg p-0.5 print-padding w-[120px]">
                    <h2 class="kh-content-regular text-[12px]">អាជីវកម្ម</h2>
                    <div class="flex justify-start items-center space-x-2 -mt-1">
                      <h3 class="text-[12px] time-roman font-medium ">business / 商业</h3>
                      <div class="border w-3 h-3 flex items-center justify-center">
                        {% if extension.extension_reason == "business"%}
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-3">
                          <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5" />
                        </svg>
                        {% endif %} 
                      </div>
                    </div>
                  </div>
                  <div class="border border-gray-500 rounded-lg p-0.5 print-padding w-[180px]">
                    <h2 class="kh-content-regular text-[12px]">ការងារការិយាល័យ</h2>
                    <div class="flex justify-start items-center space-x-2 -mt-1">
                      <h3 class="text-[12px] time-roman font-medium ">Office Work / 办公室工作</h3>
                      <div class="border w-3 h-3 flex items-center justify-center">
                        {% if extension.extension_reason == "employment"%}
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-3">
                          <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5" />
                        </svg>
                        {% endif %}  
                      </div>
                    </div>
                  </div>
                  <div class="border border-gray-500 rounded-lg p-0.5 print-padding w-[150px]">
                    <h2 class="kh-content-regular text-[12px]">ការងារជំនាញ</h2>
                    <div class="flex justify-start items-center space-x-2 -mt-1">
                      <h3 class="text-[12px] time-roman font-medium ">Professional Work / 业务</h3>
                      <div class="border w-3 h-3 flex items-center justify-center">
                        {% if extension.extension_reason == ""%}
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-3">
                          <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5" />
                        </svg>
                        {% endif %} 
                      </div>
                    </div>
                  </div>
              </div>
            </div>
        
        </div>      
      </div>

      <div class="w-full mt-3 flex justify-start items-start space-x-5 ">
        <div>
          <div class="flex justify-start items-end space-x-2 -mt-2 w-full">
              <div class="w-[185px] flex"></div>
              <div class="flex items-center space-x-2">
                  <div class="border border-gray-500 rounded-lg p-0.5 print-padding w-[200px]">
                    <h2 class="kh-content-regular text-[12px]">ប្រកបរបរផ្ទាល់ខ្លួន</h2>
                    <div class="flex justify-start items-center space-x-2 -mt-1">
                      <h3 class="text-[12px] time-roman font-medium ">Personal Occupation / 个人职业</h3>
                      <div class="border w-3 h-3 flex items-center justify-center">
                        {% if extension.extension_reason == "family"%}
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-3">
                          <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5" />
                        </svg>
                        {% endif %} 
                      </div>
                    </div>
                  </div>
                  <div class="border border-gray-500 rounded-lg p-0.5 print-padding w-[140px]">
                    <h2 class="kh-content-regular text-[12px]">ទេសចរណ៍</h2>
                    <div class="flex justify-start items-center space-x-2 -mt-1">
                      <h3 class="text-[12px] time-roman font-medium ">Tourism / 旅游</h3>
                      <div class="border w-3 h-3 flex items-center justify-center">
                        {% if extension.extension_reason == "tourism"%}
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-3">
                          <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 12.75 6 6 9-13.5" />
                        </svg>
                        {% endif %} 
                      </div>
                    </div>
                  </div>
                  <div class="w-[230px] border border-gray-500 rounded-lg p-0.5 print-padding w-[300px]">
                    <h2 class="kh-content-regular text-[12px]">ផ្សេងៗ</h2>
                    <div class="flex justify-start items-center space-x-2 -mt-1">
                      <h3 class="text-[12px] time-roman font-medium w-[110px]">Other / 其他</h3>
                      <span class="border-b border-dashed w-full"></span>
                    </div>
                  </div>
                  
              </div>
            </div>
        
        </div>      
      </div>


      <div class="w-full mt-1 flex justify-start items-start space-x-5">
        <div class="w-full">
          <div class="flex items-center space-x-2 font-medium">
            <span class="-mt-1">-</span>
            <h2 class="kh-content-regular text-[12px]">ឈ្មោះគ្រិះស្ថាន/អង្កការ</h2>
          </div>
          <div class="flex justify-start items-end space-x-2 -mt-1 w-full relative">
              <h3 class="text-[12px] time-roman ml-4 font-medium w-[160px] ">Institution/Organization Name: <br> 机构 / 组织名称</h3>
              <h3 class="w-[80%] time-roman text-[16px] font-semibold text-center border-b border-dashed absolute left-[20%] -top-2.5">{{ extension.organization_name|default:'KOH KONG RESORT' }}</h3>
          </div>
        </div>

      </div>
      <div class="w-full -mt-1 flex justify-start items-start space-x-5">
        <div class="w-full flex">
          <div class="w-[28%]">
            
          </div>
          <div class="w-full">
              <div class="flex items-center justify-end space-x-2 font-medium w-full">
                <h2 class="kh-content-regular text-[12px] text-left">តួនាទី</h2>
                <span class="w-full "></span>
              </div>
              <div class="flex justify-start items-end space-x-2 -mt-1 w-full ">
                  <h3 class="text-[12px] time-roman font-medium text-left w-[14.5%]">Position / 位置 :</h3>
                  <h3 class=" time-roman text-[16px] font-semibold w-full text-center border-b border-dashed">{{ extension.position|default:worker.position.name|default:"DEALER INSPECTOR"|upper }}</h3>
              </div>
          </div>
        </div>

      </div>
     
      <div class="w-full border-b-2 py-2"></div>


      <div class="w-full mt-1 flex justify-start items-start space-x-5">
        <div>
          <div class="flex items-center space-x-2 font-medium">
            <span class="-mt-1">-</span>
            <h2 class="kh-content-regular text-[12px]">បណ្ណការងារជនបរទេស លេខ</h2>
          </div>
          <div class="flex justify-start items-end space-x-2 -mt-1">
              <h3 class="text-[12px] time-roman ml-4 font-medium w-[410px]">Working Permit/ 工作许可证: Number/数字</h3>
        
              <h3 class=" time-roman text-[14px] font-medium w-full text-center border-b border-dashed">{{ extension.work_permit_number }}</h3>
          </div>
        </div>

        <div class=" relative w-full">

          <div class="flex items-center space-x-2 font-medium">
            <h2 class="kh-content-regular text-[12px]">ថ្ងៃផុតកំណត់</h2>
          </div>
          <div class="flex justify-start items-end space-x-2">
              <h3 class="text-[12px] time-roman font-medium w-[230px] print:w-[280px]">Expired Date / 失效日期 :</h3>
            
              <h3 class=" time-roman text-[14px] font-medium w-full text-center border-b border-dashed ">
                {% if extension.work_permit_expiry %} {{ extension.work_permit_expiry|date:"d / M / Y" }} {% else %} - {% endif %}
              </h3>
          </div>
          
        </div>
        
      </div>
      <div class="w-full mt-2 flex justify-start items-start space-x-5">
        <div class="w-[26%]">
        </div>
        <div class="w-full flex">
          <div class="w-[55%]">
            <div class="flex items-start space-x-0 font-medium">
              <span class="-mt-1"></span>
              <h2 class="kh-content-regular text-[12px] text-left">អង្កភាព</h2>
            </div>
            <div class="flex justify-start items-end space-x-2 -mt-1">
                <h3 class="text-[12px] time-roman font-medium w-[150px] text-left">Organization / 组织 :</h3>
                <h3 class=" time-roman text-[14px] font-medium w-full text-center border-b border-dashed">{{ "L.Y.P GROUP CO.,LTD"|default:'KOH KONG RESORT' }}</h3>
            </div>
          </div>

          <div class=" ml-2">

            <div class="flex items-center space-x-2 font-medium">
              <h2 class="kh-content-regular text-[12px]">មុខរបរ/តួនាទី</h2>
            </div>
            <div class="flex justify-start items-end space-x-2 -mt-1 w-full">
                <h3 class="text-[12px] time-roman font-medium w-[160px]">Position / 位置 :</h3>
                <h3 class=" time-roman text-[14px] font-medium w-full text-center border-b border-dashed">{{worker.position.name|default:"DEALER INSPECTOR"|upper }}</h3>
              
            </div>
            
          </div>

        </div>
        

        
        
      </div>


      <div class="w-full border-b-2 py-2"></div>


      <div class="w-full mt-1 flex justify-start items-start space-x-5">
        <div class="w-[70%]">
          <div class="flex items-center space-x-2 font-medium">
            <span class="-mt-1">-</span>
            <h2 class="kh-content-regular text-[12px]">អាសយដ្ឋានស្នាក់នៅកម្ពុជា ឈ្មោះទីកន្លែងស្នាក់នៅ</h2>
          </div>
          <div class="flex justify-start items-center space-x-2 w-full">
              <h3 class="text-[12px] time-roman ml-4 font-medium w-[530px] print:w-[540px] flex space-x-5">
                  <div>
                    Address in Cambodia
                    <br> 
                    在柬埔寨的地址
                  </div>
                  <div>
                    Name of Address / 地址名称 :
                  </div>
                </h3>
              <span class="w-[90%] border-b border-dashed"></span>
              <h3 class=" time-roman text-[16px] font-semibold absolute left-[41%] print:left-[39%] -mt-6">{{ extension.address_name|default:"" }}</h3>
          </div>
        </div>

        <div class=" relative w-full">
          <div class="flex items-center space-x-2 font-medium">
            <h2 class="kh-content-regular text-[12px]">ផ្ទះលេខ</h2>
          </div>
          <div class="flex justify-start items-end space-x-2">
              <h3 class="text-[12px] time-roman font-medium w-[170px]">House No / 房子号 :</h3>
              <span class="w-full border-b border-dashed"></span>
              <h3 class=" time-roman text-[14px] font-semibold absolute left-[51%] print:left-[53%]">{{ extension.house_no|default:"" }}</h3>
          </div>
          
        </div>
        
      </div>
      <div class="w-full mt-1 flex justify-start items-start">
        <div class="w-[24%] ">

        </div>
        <div class="w-[85%] flex space-x-1">
          <div class="w-[45%]">
            <div class="flex items-center space-x-0 font-medium">
              <span class="-mt-1"></span>
              <h2 class="kh-content-regular text-[12px]">ផ្លូវលេខ</h2>
            </div>
            <div class="flex justify-start items-end space-x-0">
                <h3 class="text-[12px] time-roman font-medium w-[200px]">Street No / 街道号码 :</h3>
                <h3 class=" time-roman text-[12px] font-medium  w-full text-center border-b border-dashed">{{ extension.street_no|default:"" }}</h3>
            </div>
          </div>
  
          <div class=" w-[40%]">
            <div class="flex items-center space-x-0 font-medium">
              <h2 class="kh-content-regular text-[12px]">ឃុំ/សង្កាត</h2>
            </div>
            <div class="flex justify-start items-end space-x-0">
                <h3 class="text-[12px] time-roman font-medium w-[160px]">Commune / 位置 :</h3>
                
                <h3 class=" time-roman text-[12px] font-semibold w-full text-center border-b border-dashed">{{ extension.commune|default:"" }}</h3>
              
            </div>
          </div>
  
          
          <div class=" w-[30%]">
            <div class="flex items-center space-x-2 font-medium">
              <h2 class="kh-content-regular text-[12px]">ស្រុក/ខណ្ឌ័</h2>
            </div>
            <div class="flex justify-start items-end space-x-0">
                <h3 class="text-[12px] time-roman font-medium w-[110px]">District / 区 :</h3>
                <h3 class=" time-roman text-[12px] font-semibold w-full text-center border-b border-dashed">{{ extension.district|default:"" }}</h3>
              
            </div>
          </div>
        </div>
        
      </div>
      <div class="w-full mt-1 flex justify-start items-start">
        <div class="w-[28%] ">

        </div>
        <div class="w-[100%] flex space-x-2">
          <div class="w-[52%]">
            <div class="flex items-center space-x-0 font-medium">
              <span class="-mt-1"></span>
              <h2 class="kh-content-regular text-[12px]">រាធានី/ខេត្ត</h2>
            </div>
            <div class="flex justify-start items-end space-x-0">
                <h3 class="text-[12px] time-roman font-medium w-[250px]">Province/Capital/省/首都 :</h3>
                <h3 class=" time-roman text-[12px] font-semibold  w-full text-center border-b border-dashed">KOH KONG</h3>
            </div>
          </div>
  
          <div class="w-[63%]">
            <div class="flex items-center space-x-2 font-medium">
              <h2 class="kh-content-regular text-[12px]">លេខទូរសទ្ទ័ទំនាក់ទំនង</h2>
            </div>
            <div class="flex justify-start items-end space-x-0">
                <h3 class="text-[12px] time-roman font-medium w-[280px]">Telephone Number/电话号码:</h3>
                
                <h3 class=" time-roman text-[12px] font-semibold w-full text-center border-b border-dashed">
                  {% if worker.phone_number %}
                  {% with num=worker.phone_number|slice:"4:" %}
                      0{{ num|slice:":2" }}-{{ num|slice:"2:" }}
                  {% endwith %}
                  {% endif %}
                </h3>
              
            </div>
          </div>
  
        </div>
        
      </div>


      <div class="w-full border-b-2 py-2"></div>

      <div class="mt-3">
        <p class=" kh-content-regular text-[12px]">
          ខ្ញុំសូមធានាអះអាងថារាល់ពត័មានទាំងអស់ដែលខ្ញុំបានបំពេញខាងលើ សុទ្ធតែជាកាពិត បើមិនពិត ខ្ញុំសុខចិត្តទទួលខុសត្រូវចំពោះមុខច្បាប់នៃព្រះរាជាណាចក្រកម្ពុជាជាធរមាន។
        </p>
        <p class="text-[13px] time-roman font-semibold">
          I guaranty that all the information that I provide above is true and I am liable to the Cambodia’s Law if not true.
        </p>
        <p class="text-[12px] time-roman font-semibold">
          我保证我提供的所有信息是真实的，并且如果不属实我将, 受到柬埔寨法律处罚
        </p>
      </div>

      <div class="mt-2 grid grid-cols-2 gap-15">
          <div class="text-center h-[150px] border pt-1">
            <h2 class="kh-content-regular text-[12px]">សម្រាប់សមត្ថកិច្ច</h2>
            <h3 class="text-[12px] time-roman font-medium ">FOR OFFICIAL USE / 供官方使用</h3>
          </div>
          <div class="h-[150px] relative">
            <div class=" relative w-full">

              <div class="flex items-center space-x-2 font-medium">
                <h2 class="kh-content-regular text-[12px]">ថ្ងៃទី</h2>
              </div>
              <div class="flex justify-start items-end space-x-2 -mt-2">
                  <h3 class="text-[12px] time-roman font-medium w-[100px]">Date / 日期 :</h3>
                  
                  <h3 class=" time-roman text-[14px] font-medium w-full text-center border-b border-dashed">
                    {% if extension.extension_start_date %} {{ extension.extension_start_date|date:"d / M / Y" }}{% endif%}
                  </h3>
              </div>
              
            </div>
            <div class="mt-1">
              <h2 class="kh-content-regular text-[12px]">ហត្ថលេខាសាមីខ្លួន</h2>
              <h3 class="text-[12px] time-roman font-medium -mt-1">Signature / 有关人士的签名</h3>
            </div>

            <div class=" w-full absolute bottom-0 right-0">

              <div class="flex items-center space-x-2 font-medium">
                <h2 class="kh-content-regular text-[12px]">ឈ្មោះ</h2>
              </div>
              <div class="flex justify-start items-end space-x-2 -mt-1">
                  <h3 class="text-[12px] time-roman font-medium w-[100px]">Name / 名 :</h3>
                  <span class="w-full border-b border-dashed"></span>
                  <h3 class=" time-roman text-[14px] font-semibold absolute left-[22%] print:left-[35%] upper"> {{worker.get_full_name}}</h3>
              </div>
              
            </div>
          </div>
      </div>

    </div>

    <script>
      function printDiv(divId) {
          const printContents = document.getElementById(divId).innerHTML;
          const originalContents = document.body.innerHTML;
      
          document.body.innerHTML = printContents;
          window.print();
          document.body.innerHTML = originalContents;
      }

      // Handle image load errors for extension form photos
      document.addEventListener('DOMContentLoaded', function() {
          document.querySelectorAll('img.extension-photo').forEach(function(img) {
              img.addEventListener('error', function() {
                  console.log('Extension form photo failed to load:', this.src);
                  
                  // Hide the broken image and show placeholder
                  this.style.display = 'none';
                  let placeholder = this.nextElementSibling;
                  if (placeholder) {
                      placeholder.style.display = 'flex';
                  }
              });
              
              // Check for corrupted images that appear to load but have no dimensions
              img.addEventListener('load', function() {
                  if (this.naturalWidth === 0 || this.naturalHeight === 0) {
                      this.style.display = 'none';
                      let placeholder = this.nextElementSibling;
                      if (placeholder) {
                          placeholder.style.display = 'flex';
                      }
                  }
              });
          });
      });
      </script>
  </body>
</html>
