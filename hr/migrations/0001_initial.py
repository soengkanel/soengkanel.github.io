# Generated by Django 5.2.1 on 2025-10-11 13:54

import core.encrypted_fields
import core.encryption
import datetime
import django.core.validators
import django.db.models.deletion
import hr.models
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name="OnboardingTask",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("title", models.CharField(max_length=200, verbose_name="Task Title")),
                (
                    "description",
                    models.TextField(blank=True, verbose_name="Description"),
                ),
                (
                    "task_type",
                    models.CharField(
                        choices=[
                            ("documentation", "Documentation"),
                            ("orientation", "Orientation"),
                            ("training", "Training"),
                            ("setup", "System Setup"),
                            ("meeting", "Meeting"),
                            ("review", "Review"),
                            ("other", "Other"),
                        ],
                        default="other",
                        max_length=20,
                        verbose_name="Task Type",
                    ),
                ),
                (
                    "priority",
                    models.CharField(
                        choices=[
                            ("low", "Low"),
                            ("medium", "Medium"),
                            ("high", "High"),
                            ("critical", "Critical"),
                        ],
                        default="medium",
                        max_length=10,
                        verbose_name="Priority",
                    ),
                ),
                (
                    "due_after_days",
                    models.PositiveIntegerField(
                        default=1,
                        help_text="Days after onboarding start",
                        verbose_name="Due After (Days)",
                    ),
                ),
                (
                    "estimated_hours",
                    models.FloatField(default=1.0, verbose_name="Estimated Hours"),
                ),
                (
                    "assigned_to_role",
                    models.CharField(
                        blank=True,
                        help_text="HR, Manager, IT, etc.",
                        max_length=50,
                        verbose_name="Assigned To Role",
                    ),
                ),
                (
                    "requires_buddy",
                    models.BooleanField(default=False, verbose_name="Requires Buddy"),
                ),
                (
                    "requires_approval",
                    models.BooleanField(
                        default=False, verbose_name="Requires Approval"
                    ),
                ),
                (
                    "requires_attachment",
                    models.BooleanField(
                        default=False, verbose_name="Requires Attachment"
                    ),
                ),
                ("order", models.PositiveIntegerField(default=1, verbose_name="Order")),
                (
                    "is_mandatory",
                    models.BooleanField(default=True, verbose_name="Mandatory"),
                ),
                ("is_active", models.BooleanField(default=True, verbose_name="Active")),
            ],
            options={
                "verbose_name": "Onboarding Task",
                "verbose_name_plural": "Onboarding Tasks",
                "ordering": ["template", "order", "due_after_days"],
            },
        ),
        migrations.CreateModel(
            name="PayrollPolicy",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("name", models.CharField(max_length=100, verbose_name="Policy Name")),
                (
                    "description",
                    models.TextField(blank=True, verbose_name="Description"),
                ),
                (
                    "calculation_method",
                    models.CharField(
                        choices=[
                            ("monthly", "Monthly"),
                            ("bi_weekly", "Bi-Weekly"),
                            ("weekly", "Weekly"),
                            ("daily", "Daily"),
                        ],
                        default="monthly",
                        max_length=20,
                        verbose_name="Calculation Method",
                    ),
                ),
                (
                    "currency",
                    models.CharField(
                        default="USD", max_length=3, verbose_name="Currency"
                    ),
                ),
                (
                    "standard_working_hours_per_day",
                    models.DecimalField(
                        decimal_places=2,
                        default=8.0,
                        max_digits=4,
                        verbose_name="Standard Working Hours/Day",
                    ),
                ),
                (
                    "standard_working_days_per_month",
                    models.IntegerField(
                        default=22, verbose_name="Standard Working Days/Month"
                    ),
                ),
                (
                    "tax_calculation_method",
                    models.CharField(
                        choices=[
                            ("progressive", "Progressive Tax Slabs"),
                            ("flat_rate", "Flat Rate"),
                            ("no_tax", "No Tax"),
                        ],
                        default="progressive",
                        max_length=20,
                        verbose_name="Tax Calculation",
                    ),
                ),
                (
                    "social_security_rate",
                    models.DecimalField(
                        decimal_places=2,
                        default=3.0,
                        max_digits=5,
                        verbose_name="Social Security Rate %",
                    ),
                ),
                (
                    "health_insurance_rate",
                    models.DecimalField(
                        decimal_places=2,
                        default=2.0,
                        max_digits=5,
                        verbose_name="Health Insurance Rate %",
                    ),
                ),
                (
                    "integrate_overtime",
                    models.BooleanField(
                        default=True, verbose_name="Integrate Overtime Claims"
                    ),
                ),
                (
                    "integrate_timecards",
                    models.BooleanField(
                        default=True, verbose_name="Integrate Timecard Data"
                    ),
                ),
                (
                    "deduct_unpaid_leave",
                    models.BooleanField(
                        default=True, verbose_name="Deduct Unpaid Leave"
                    ),
                ),
                (
                    "deduct_half_day_leave",
                    models.BooleanField(
                        default=True, verbose_name="Deduct Half Day Leave"
                    ),
                ),
                (
                    "allow_performance_bonus",
                    models.BooleanField(
                        default=True, verbose_name="Allow Performance Bonus"
                    ),
                ),
                (
                    "allow_project_bonus",
                    models.BooleanField(
                        default=True, verbose_name="Allow Project Bonus"
                    ),
                ),
                ("is_active", models.BooleanField(default=True, verbose_name="Active")),
                (
                    "effective_date",
                    models.DateField(
                        default=datetime.date.today, verbose_name="Effective Date"
                    ),
                ),
                (
                    "end_date",
                    models.DateField(blank=True, null=True, verbose_name="End Date"),
                ),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="Created At"),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
            ],
            options={
                "verbose_name": "Payroll Policy",
                "verbose_name_plural": "Payroll Policies",
                "ordering": ["-effective_date"],
            },
        ),
        migrations.CreateModel(
            name="TimecardEntry",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("date", models.DateField(verbose_name="Date")),
                (
                    "project_name",
                    models.CharField(
                        blank=True,
                        help_text="Legacy field - use project field for new entries",
                        max_length=200,
                        verbose_name="Project Name",
                    ),
                ),
                (
                    "hours",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=4,
                        validators=[
                            django.core.validators.MinValueValidator(0),
                            django.core.validators.MaxValueValidator(24),
                        ],
                        verbose_name="Hours",
                    ),
                ),
                (
                    "is_weekend",
                    models.BooleanField(default=False, verbose_name="Is Weekend"),
                ),
                (
                    "is_holiday",
                    models.BooleanField(default=False, verbose_name="Is Holiday"),
                ),
                (
                    "is_billable",
                    models.BooleanField(
                        default=True,
                        help_text="Whether this time is billable to client",
                        verbose_name="Is Billable",
                    ),
                ),
                (
                    "activity_description",
                    models.CharField(
                        blank=True,
                        help_text="Brief description of work performed",
                        max_length=500,
                        verbose_name="Activity Description",
                    ),
                ),
                ("notes", models.TextField(blank=True, verbose_name="Notes")),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
            ],
            options={
                "verbose_name": "Timecard Entry",
                "verbose_name_plural": "Timecard Entries",
                "ordering": ["date", "project_name"],
            },
        ),
        migrations.CreateModel(
            name="YearEndStatement",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "financial_year",
                    models.CharField(max_length=9, verbose_name="Financial Year"),
                ),
                (
                    "statement_date",
                    models.DateField(auto_now_add=True, verbose_name="Statement Date"),
                ),
                (
                    "total_gross_salary",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=15,
                        verbose_name="Total Gross Salary",
                    ),
                ),
                (
                    "total_deductions",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=15,
                        verbose_name="Total Deductions",
                    ),
                ),
                (
                    "total_tax_paid",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=12,
                        verbose_name="Total Tax Paid",
                    ),
                ),
                (
                    "total_net_salary",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=15,
                        verbose_name="Total Net Salary",
                    ),
                ),
                (
                    "annual_breakdown",
                    models.JSONField(default=dict, verbose_name="Annual Breakdown"),
                ),
                (
                    "pdf_file",
                    models.FileField(
                        blank=True,
                        null=True,
                        upload_to="year_end_statements/",
                        verbose_name="PDF File",
                    ),
                ),
                (
                    "pdf_generated_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="PDF Generated At"
                    ),
                ),
                (
                    "is_final",
                    models.BooleanField(default=False, verbose_name="Final Statement"),
                ),
                ("notes", models.TextField(blank=True, verbose_name="Notes")),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="Created At"),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
            ],
            options={
                "verbose_name": "Year End Statement",
                "verbose_name_plural": "Year End Statements",
                "ordering": ["-financial_year", "employee__employee_id"],
            },
        ),
        migrations.CreateModel(
            name="Department",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "name",
                    models.CharField(max_length=100, verbose_name="Department Name"),
                ),
                (
                    "code",
                    models.CharField(
                        max_length=20, unique=True, verbose_name="Department Code"
                    ),
                ),
                (
                    "description",
                    models.TextField(blank=True, verbose_name="Description"),
                ),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="Created At"),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "parent",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="children",
                        to="hr.department",
                        verbose_name="Parent Department",
                    ),
                ),
            ],
            options={
                "verbose_name": "Department",
                "verbose_name_plural": "Departments",
                "ordering": ["name"],
            },
        ),
        migrations.CreateModel(
            name="Employee",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "employee_id",
                    models.CharField(
                        blank=True,
                        max_length=20,
                        unique=True,
                        verbose_name="Employee ID",
                    ),
                ),
                (
                    "first_name",
                    models.CharField(max_length=100, verbose_name="First Name"),
                ),
                (
                    "last_name",
                    models.CharField(max_length=100, verbose_name="Last Name"),
                ),
                (
                    "photo",
                    core.encrypted_fields.EncryptedImageField(
                        blank=True,
                        help_text="Upload employee photo (JPG, PNG, GIF, BMP formats supported) - Automatically encrypted",
                        null=True,
                        upload_to="employee_photos/",
                        validators=[
                            hr.models.validate_image_file_extension,
                            hr.models.validate_image_file_size,
                        ],
                        verbose_name="Photo",
                    ),
                ),
                (
                    "gender",
                    models.CharField(
                        choices=[("M", "Male"), ("F", "Female"), ("O", "Other")],
                        max_length=1,
                        verbose_name="Gender",
                    ),
                ),
                ("date_of_birth", models.DateField(verbose_name="Date of Birth")),
                (
                    "nationality",
                    models.CharField(
                        choices=[
                            ("KH", "Cambodian"),
                            ("TH", "Thai"),
                            ("VN", "Vietnamese"),
                            ("ID", "Indonesian"),
                            ("MY", "Malaysian"),
                            ("PH", "Filipino"),
                            ("MM", "Myanmar"),
                            ("LA", "Laotian"),
                            ("SG", "Singaporean"),
                            ("BN", "Bruneian"),
                            ("CH", "Chinese"),
                            ("JP", "Japanese"),
                            ("KR", "Korean"),
                            ("TW", "Taiwanese"),
                            ("MO", "Macanese"),
                            ("MN", "Mongolian"),
                            ("IN", "Indian"),
                            ("PK", "Pakistani"),
                            ("BD", "Bangladeshi"),
                            ("LK", "Sri Lankan"),
                            ("NP", "Nepalese"),
                            ("BT", "Bhutanese"),
                            ("MV", "Maldivian"),
                            ("AE", "Emirati"),
                            ("SA", "Saudi"),
                            ("QA", "Qatari"),
                            ("KW", "Kuwaiti"),
                            ("BH", "Bahraini"),
                            ("OM", "Omani"),
                            ("JO", "Jordanian"),
                            ("LB", "Lebanese"),
                            ("SY", "Syrian"),
                            ("IQ", "Iraqi"),
                            ("YE", "Yemeni"),
                            ("IR", "Iranian"),
                            ("TR", "Turkish"),
                            ("GB", "British"),
                            ("FR", "French"),
                            ("DE", "German"),
                            ("IT", "Italian"),
                            ("ES", "Spanish"),
                            ("PT", "Portuguese"),
                            ("NL", "Dutch"),
                            ("BE", "Belgian"),
                            ("CH", "Swiss"),
                            ("SE", "Swedish"),
                            ("NO", "Norwegian"),
                            ("DK", "Danish"),
                            ("FI", "Finnish"),
                            ("RU", "Russian"),
                            ("UA", "Ukrainian"),
                            ("PL", "Polish"),
                            ("GR", "Greek"),
                            ("EG", "Egyptian"),
                            ("ZA", "South African"),
                            ("NG", "Nigerian"),
                            ("KE", "Kenyan"),
                            ("GH", "Ghanaian"),
                            ("ET", "Ethiopian"),
                            ("MA", "Moroccan"),
                            ("DZ", "Algerian"),
                            ("TN", "Tunisian"),
                            ("US", "American"),
                            ("CA", "Canadian"),
                            ("MX", "Mexican"),
                            ("BR", "Brazilian"),
                            ("AR", "Argentine"),
                            ("CL", "Chilean"),
                            ("CO", "Colombian"),
                            ("PE", "Peruvian"),
                            ("CU", "Cuban"),
                            ("AU", "Australian"),
                            ("NZ", "New Zealander"),
                            ("FJ", "Fijian"),
                            ("PG", "Papua New Guinean"),
                            ("OTHER", "Other"),
                        ],
                        max_length=50,
                        verbose_name="Nationality",
                    ),
                ),
                (
                    "phone_number",
                    core.encryption.EncryptedCharField(
                        blank=True,
                        max_length=1000,
                        validators=[
                            django.core.validators.RegexValidator(
                                message="Phone number must be in Cambodia format: +855xxxxxxxx or 0xxxxxxxx (8-10 digits after prefix)",
                                regex="^(\\+?855|0)\\d{8,10}$",
                            )
                        ],
                        verbose_name="Phone Number",
                    ),
                ),
                (
                    "email",
                    core.encryption.EncryptedEmailField(
                        blank=True, max_length=1016, null=True, verbose_name="Email"
                    ),
                ),
                ("address", core.encryption.EncryptedTextField(verbose_name="Address")),
                (
                    "emergency_contact_name",
                    core.encryption.EncryptedCharField(
                        max_length=1000, verbose_name="Emergency Contact Name"
                    ),
                ),
                (
                    "emergency_contact_phone",
                    core.encryption.EncryptedCharField(
                        max_length=1000,
                        validators=[
                            django.core.validators.RegexValidator(
                                message="Phone number must be in Cambodia format: +855xxxxxxxx or 0xxxxxxxx (8-10 digits after prefix)",
                                regex="^(\\+?855|0)\\d{8,10}$",
                            )
                        ],
                        verbose_name="Emergency Contact Phone",
                    ),
                ),
                (
                    "employment_status",
                    models.CharField(
                        choices=[
                            ("active", "Active"),
                            ("on_leave", "On Leave"),
                            ("suspended", "Suspended"),
                            ("terminated", "Terminated"),
                        ],
                        default="active",
                        max_length=20,
                        verbose_name="Employment Status",
                    ),
                ),
                (
                    "employee_type",
                    models.CharField(
                        choices=[("onsite", "Onsite"), ("backoffice", "Back Office")],
                        default="backoffice",
                        max_length=20,
                        verbose_name="Employee Type",
                    ),
                ),
                (
                    "work_type",
                    models.CharField(
                        choices=[("office", "Office"), ("onsite", "Onsite")],
                        default="office",
                        max_length=20,
                        verbose_name="Work Type",
                    ),
                ),
                ("hire_date", models.DateField(verbose_name="Hire Date")),
                (
                    "end_date",
                    models.DateField(blank=True, null=True, verbose_name="End Date"),
                ),
                (
                    "salary",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        max_digits=12,
                        null=True,
                        verbose_name="Salary",
                    ),
                ),
                (
                    "work_location",
                    models.CharField(
                        blank=True, max_length=200, verbose_name="Work Location"
                    ),
                ),
                (
                    "branch",
                    models.CharField(blank=True, max_length=100, verbose_name="Branch"),
                ),
                (
                    "notes",
                    core.encryption.EncryptedTextField(
                        blank=True, verbose_name="Notes"
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="Created At"),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "department",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="employees",
                        to="hr.department",
                        verbose_name="Department",
                    ),
                ),
                (
                    "manager",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="subordinates",
                        to="hr.employee",
                        verbose_name="Manager",
                    ),
                ),
                (
                    "user",
                    models.OneToOneField(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="employee",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "Employee",
                "verbose_name_plural": "Employees",
                "ordering": ["employee_id"],
            },
            bases=(core.encrypted_fields.FileEncryptionMixin, models.Model),
        ),
        migrations.CreateModel(
            name="EmployeeChangeHistory",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "action",
                    models.CharField(
                        choices=[
                            ("created", "Created"),
                            ("updated", "Updated"),
                            ("deleted", "Deleted"),
                            ("status_changed", "Status Changed"),
                            ("photo_updated", "Photo Updated"),
                            ("document_added", "Document Added"),
                            ("document_removed", "Document Removed"),
                            ("probation_started", "Probation Started"),
                            ("probation_extended", "Probation Extended"),
                            ("probation_completed", "Probation Completed"),
                            ("id_card_requested", "ID Card Requested"),
                            ("id_card_issued", "ID Card Issued"),
                            ("employment_ended", "Employment Ended"),
                        ],
                        max_length=20,
                    ),
                ),
                ("field_name", models.CharField(blank=True, max_length=100, null=True)),
                ("old_value", models.TextField(blank=True, null=True)),
                ("new_value", models.TextField(blank=True, null=True)),
                ("changed_by", models.CharField(blank=True, max_length=150, null=True)),
                ("ip_address", models.GenericIPAddressField(blank=True, null=True)),
                ("user_agent", models.CharField(blank=True, max_length=500, null=True)),
                ("timestamp", models.DateTimeField(auto_now_add=True)),
                ("additional_info", models.JSONField(blank=True, null=True)),
                (
                    "employee",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="change_history",
                        to="hr.employee",
                    ),
                ),
            ],
            options={
                "verbose_name": "Employee Change History",
                "verbose_name_plural": "Employee Change History",
                "ordering": ["-timestamp"],
            },
        ),
        migrations.CreateModel(
            name="EmployeeDocument",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "document_type",
                    models.CharField(
                        choices=[
                            ("id_card", "ID Card"),
                            ("certificate", "Certificate"),
                            ("other", "Other"),
                        ],
                        max_length=20,
                        verbose_name="Document Type",
                    ),
                ),
                (
                    "document_number",
                    models.CharField(max_length=50, verbose_name="Document Number"),
                ),
                ("issue_date", models.DateField(verbose_name="Issue Date")),
                ("expiry_date", models.DateField(verbose_name="Expiry Date")),
                (
                    "issuing_authority",
                    models.CharField(max_length=100, verbose_name="Issuing Authority"),
                ),
                (
                    "document_file",
                    core.encrypted_fields.EncryptedFileField(
                        upload_to="employee_documents/", verbose_name="Document File"
                    ),
                ),
                ("notes", models.TextField(blank=True, verbose_name="Notes")),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="Created At"),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "employee",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="documents",
                        to="hr.employee",
                        verbose_name="Employee",
                    ),
                ),
            ],
            options={
                "verbose_name": "Employee Document",
                "verbose_name_plural": "Employee Documents",
                "ordering": ["-issue_date"],
            },
            bases=(core.encrypted_fields.FileEncryptionMixin, models.Model),
        ),
        migrations.CreateModel(
            name="EmployeeHistory",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "event_type",
                    models.CharField(max_length=50, verbose_name="Event Type"),
                ),
                ("description", models.TextField(verbose_name="Description")),
                ("date", models.DateField(verbose_name="Date")),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="Created At"),
                ),
                (
                    "employee",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="history",
                        to="hr.employee",
                        verbose_name="Employee",
                    ),
                ),
            ],
            options={
                "verbose_name": "Employee History",
                "verbose_name_plural": "Employee History",
                "ordering": ["-date"],
            },
        ),
        migrations.CreateModel(
            name="EmployeeOnboarding",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("start_date", models.DateField(verbose_name="Start Date")),
                (
                    "expected_completion_date",
                    models.DateField(verbose_name="Expected Completion Date"),
                ),
                (
                    "actual_completion_date",
                    models.DateField(
                        blank=True, null=True, verbose_name="Actual Completion Date"
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("pending", "Pending"),
                            ("in_progress", "In Progress"),
                            ("completed", "Completed"),
                            ("paused", "Paused"),
                            ("cancelled", "Cancelled"),
                        ],
                        default="pending",
                        max_length=20,
                        verbose_name="Status",
                    ),
                ),
                (
                    "progress_percentage",
                    models.FloatField(default=0.0, verbose_name="Progress %"),
                ),
                (
                    "total_tasks",
                    models.PositiveIntegerField(default=0, verbose_name="Total Tasks"),
                ),
                (
                    "completed_tasks",
                    models.PositiveIntegerField(
                        default=0, verbose_name="Completed Tasks"
                    ),
                ),
                ("notes", models.TextField(blank=True, verbose_name="Notes")),
                (
                    "employee_feedback",
                    models.TextField(blank=True, verbose_name="Employee Feedback"),
                ),
                (
                    "hr_feedback",
                    models.TextField(blank=True, verbose_name="HR Feedback"),
                ),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="Created At"),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "buddy",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="buddy_onboardings",
                        to="hr.employee",
                        verbose_name="Onboarding Buddy",
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="created_onboardings",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "employee",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="onboarding",
                        to="hr.employee",
                    ),
                ),
                (
                    "hr_representative",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="hr_onboardings",
                        to=settings.AUTH_USER_MODEL,
                        verbose_name="HR Representative",
                    ),
                ),
                (
                    "manager",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="manager_onboardings",
                        to="hr.employee",
                        verbose_name="Manager",
                    ),
                ),
            ],
            options={
                "verbose_name": "Employee Onboarding",
                "verbose_name_plural": "Employee Onboardings",
                "ordering": ["-start_date"],
            },
        ),
        migrations.CreateModel(
            name="EmployeeSalary",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "basic_salary",
                    models.DecimalField(
                        decimal_places=2, max_digits=12, verbose_name="Basic Salary"
                    ),
                ),
                ("effective_date", models.DateField(verbose_name="Effective Date")),
                (
                    "end_date",
                    models.DateField(blank=True, null=True, verbose_name="End Date"),
                ),
                (
                    "previous_salary",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        max_digits=12,
                        null=True,
                        verbose_name="Previous Salary",
                    ),
                ),
                (
                    "revision_reason",
                    models.CharField(
                        blank=True, max_length=200, verbose_name="Revision Reason"
                    ),
                ),
                ("is_active", models.BooleanField(default=True, verbose_name="Active")),
                (
                    "approved_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Approved At"
                    ),
                ),
                ("notes", models.TextField(blank=True, verbose_name="Notes")),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="Created At"),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "approved_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="approved_salaries",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="created_salaries",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "employee",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="hr_salary_structures",
                        to="hr.employee",
                        verbose_name="Employee",
                    ),
                ),
                (
                    "payroll_policy",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="employee_salaries",
                        to="hr.payrollpolicy",
                    ),
                ),
            ],
            options={
                "verbose_name": "Employee Salary",
                "verbose_name_plural": "Employee Salaries",
                "ordering": ["-effective_date"],
            },
        ),
        migrations.CreateModel(
            name="ExitChecklist",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "final_interview_completed",
                    models.CharField(
                        choices=[
                            ("pending", "Pending"),
                            ("completed", "Completed"),
                            ("not_applicable", "Not Applicable"),
                        ],
                        default="pending",
                        max_length=20,
                        verbose_name="Final Interview",
                    ),
                ),
                (
                    "benefits_explained",
                    models.CharField(
                        choices=[
                            ("pending", "Pending"),
                            ("completed", "Completed"),
                            ("not_applicable", "Not Applicable"),
                        ],
                        default="pending",
                        max_length=20,
                        verbose_name="Benefits Explained",
                    ),
                ),
                (
                    "cobra_forms",
                    models.CharField(
                        choices=[
                            ("pending", "Pending"),
                            ("completed", "Completed"),
                            ("not_applicable", "Not Applicable"),
                        ],
                        default="pending",
                        max_length=20,
                        verbose_name="COBRA Forms",
                    ),
                ),
                (
                    "final_paycheck",
                    models.CharField(
                        choices=[
                            ("pending", "Pending"),
                            ("completed", "Completed"),
                            ("not_applicable", "Not Applicable"),
                        ],
                        default="pending",
                        max_length=20,
                        verbose_name="Final Paycheck",
                    ),
                ),
                (
                    "laptop_returned",
                    models.CharField(
                        choices=[
                            ("pending", "Pending"),
                            ("completed", "Completed"),
                            ("not_applicable", "Not Applicable"),
                        ],
                        default="pending",
                        max_length=20,
                        verbose_name="Laptop Returned",
                    ),
                ),
                (
                    "phone_returned",
                    models.CharField(
                        choices=[
                            ("pending", "Pending"),
                            ("completed", "Completed"),
                            ("not_applicable", "Not Applicable"),
                        ],
                        default="pending",
                        max_length=20,
                        verbose_name="Phone Returned",
                    ),
                ),
                (
                    "id_card_returned",
                    models.CharField(
                        choices=[
                            ("pending", "Pending"),
                            ("completed", "Completed"),
                            ("not_applicable", "Not Applicable"),
                        ],
                        default="pending",
                        max_length=20,
                        verbose_name="ID Card Returned",
                    ),
                ),
                (
                    "access_revoked",
                    models.CharField(
                        choices=[
                            ("pending", "Pending"),
                            ("completed", "Completed"),
                            ("not_applicable", "Not Applicable"),
                        ],
                        default="pending",
                        max_length=20,
                        verbose_name="System Access Revoked",
                    ),
                ),
                (
                    "email_deactivated",
                    models.CharField(
                        choices=[
                            ("pending", "Pending"),
                            ("completed", "Completed"),
                            ("not_applicable", "Not Applicable"),
                        ],
                        default="pending",
                        max_length=20,
                        verbose_name="Email Deactivated",
                    ),
                ),
                (
                    "expense_reports",
                    models.CharField(
                        choices=[
                            ("pending", "Pending"),
                            ("completed", "Completed"),
                            ("not_applicable", "Not Applicable"),
                        ],
                        default="pending",
                        max_length=20,
                        verbose_name="Expense Reports Submitted",
                    ),
                ),
                (
                    "company_credit_card",
                    models.CharField(
                        choices=[
                            ("pending", "Pending"),
                            ("completed", "Completed"),
                            ("not_applicable", "Not Applicable"),
                        ],
                        default="pending",
                        max_length=20,
                        verbose_name="Company Credit Card Returned",
                    ),
                ),
                (
                    "outstanding_advances",
                    models.CharField(
                        choices=[
                            ("pending", "Pending"),
                            ("completed", "Completed"),
                            ("not_applicable", "Not Applicable"),
                        ],
                        default="pending",
                        max_length=20,
                        verbose_name="Outstanding Advances Cleared",
                    ),
                ),
                (
                    "knowledge_transfer",
                    models.CharField(
                        choices=[
                            ("pending", "Pending"),
                            ("completed", "Completed"),
                            ("not_applicable", "Not Applicable"),
                        ],
                        default="pending",
                        max_length=20,
                        verbose_name="Knowledge Transfer",
                    ),
                ),
                (
                    "project_handover",
                    models.CharField(
                        choices=[
                            ("pending", "Pending"),
                            ("completed", "Completed"),
                            ("not_applicable", "Not Applicable"),
                        ],
                        default="pending",
                        max_length=20,
                        verbose_name="Project Handover",
                    ),
                ),
                (
                    "keys_returned",
                    models.CharField(
                        choices=[
                            ("pending", "Pending"),
                            ("completed", "Completed"),
                            ("not_applicable", "Not Applicable"),
                        ],
                        default="pending",
                        max_length=20,
                        verbose_name="Keys Returned",
                    ),
                ),
                (
                    "locker_cleared",
                    models.CharField(
                        choices=[
                            ("pending", "Pending"),
                            ("completed", "Completed"),
                            ("not_applicable", "Not Applicable"),
                        ],
                        default="pending",
                        max_length=20,
                        verbose_name="Locker Cleared",
                    ),
                ),
                (
                    "uniform_returned",
                    models.CharField(
                        choices=[
                            ("pending", "Pending"),
                            ("completed", "Completed"),
                            ("not_applicable", "Not Applicable"),
                        ],
                        default="pending",
                        max_length=20,
                        verbose_name="Uniform Returned",
                    ),
                ),
                (
                    "all_cleared_date",
                    models.DateField(
                        blank=True, null=True, verbose_name="All Cleared Date"
                    ),
                ),
                ("notes", models.TextField(blank=True, verbose_name="Notes")),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="Created At"),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "all_cleared_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "employee",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="exit_checklist",
                        to="hr.employee",
                    ),
                ),
            ],
            options={
                "verbose_name": "Exit Checklist",
                "verbose_name_plural": "Exit Checklists",
            },
        ),
        migrations.CreateModel(
            name="ExitInterview",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "exit_reason",
                    models.CharField(
                        choices=[
                            ("resignation", "Resignation"),
                            ("termination", "Termination"),
                            ("retirement", "Retirement"),
                            ("contract_end", "Contract End"),
                            ("other", "Other"),
                        ],
                        max_length=20,
                        verbose_name="Exit Reason",
                    ),
                ),
                ("last_working_day", models.DateField(verbose_name="Last Working Day")),
                (
                    "interview_date",
                    models.DateField(
                        blank=True, null=True, verbose_name="Interview Date"
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("scheduled", "Scheduled"),
                            ("in_progress", "In Progress"),
                            ("completed", "Completed"),
                            ("cancelled", "Cancelled"),
                        ],
                        default="scheduled",
                        max_length=20,
                        verbose_name="Status",
                    ),
                ),
                (
                    "job_satisfaction",
                    models.PositiveSmallIntegerField(
                        blank=True, null=True, verbose_name="Job Satisfaction"
                    ),
                ),
                (
                    "work_environment",
                    models.PositiveSmallIntegerField(
                        blank=True, null=True, verbose_name="Work Environment"
                    ),
                ),
                (
                    "management_quality",
                    models.PositiveSmallIntegerField(
                        blank=True, null=True, verbose_name="Management Quality"
                    ),
                ),
                (
                    "career_development",
                    models.PositiveSmallIntegerField(
                        blank=True, null=True, verbose_name="Career Development"
                    ),
                ),
                (
                    "work_life_balance",
                    models.PositiveSmallIntegerField(
                        blank=True, null=True, verbose_name="Work-Life Balance"
                    ),
                ),
                (
                    "compensation_benefits",
                    models.PositiveSmallIntegerField(
                        blank=True, null=True, verbose_name="Compensation & Benefits"
                    ),
                ),
                (
                    "liked_most",
                    models.TextField(
                        blank=True,
                        verbose_name="What did you like most about working here?",
                    ),
                ),
                (
                    "liked_least",
                    models.TextField(
                        blank=True,
                        verbose_name="What did you like least about working here?",
                    ),
                ),
                (
                    "improvements",
                    models.TextField(
                        blank=True, verbose_name="What improvements would you suggest?"
                    ),
                ),
                (
                    "recommend_company",
                    models.BooleanField(
                        blank=True,
                        null=True,
                        verbose_name="Would you recommend this company?",
                    ),
                ),
                (
                    "additional_comments",
                    models.TextField(blank=True, verbose_name="Additional Comments"),
                ),
                (
                    "confidential_feedback",
                    models.TextField(blank=True, verbose_name="Confidential Feedback"),
                ),
                (
                    "follow_up_required",
                    models.BooleanField(
                        default=False, verbose_name="Follow-up Required"
                    ),
                ),
                (
                    "follow_up_notes",
                    models.TextField(blank=True, verbose_name="Follow-up Notes"),
                ),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="Created At"),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "created_by",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="created_exit_interviews",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "employee",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="exit_interview",
                        to="hr.employee",
                    ),
                ),
                (
                    "interviewer",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="conducted_exit_interviews",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "Exit Interview",
                "verbose_name_plural": "Exit Interviews",
                "ordering": ["-last_working_day"],
            },
        ),
        migrations.CreateModel(
            name="IDCardRequest",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "request_type",
                    models.CharField(
                        choices=[
                            ("new", "New ID Card"),
                            ("replacement", "Replacement"),
                            ("renewal", "Renewal"),
                        ],
                        max_length=20,
                        verbose_name="Request Type",
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("pending", "Pending"),
                            ("approved", "Approved"),
                            ("printing", "Printing"),
                            ("ready", "Ready for Pickup"),
                            ("delivered", "Delivered"),
                            ("cancelled", "Cancelled"),
                        ],
                        default="pending",
                        max_length=20,
                        verbose_name="Status",
                    ),
                ),
                (
                    "replacement_reason",
                    models.CharField(
                        blank=True,
                        choices=[
                            ("lost", "Lost"),
                            ("damaged", "Damaged"),
                            ("stolen", "Stolen"),
                            ("expired", "Expired"),
                            ("other", "Other"),
                        ],
                        max_length=20,
                        null=True,
                        verbose_name="Replacement Reason",
                    ),
                ),
                (
                    "request_date",
                    models.DateField(auto_now_add=True, verbose_name="Request Date"),
                ),
                (
                    "approved_date",
                    models.DateField(
                        blank=True, null=True, verbose_name="Approved Date"
                    ),
                ),
                (
                    "printed_date",
                    models.DateField(
                        blank=True, null=True, verbose_name="Printed Date"
                    ),
                ),
                (
                    "delivery_date",
                    models.DateField(
                        blank=True, null=True, verbose_name="Delivery Date"
                    ),
                ),
                (
                    "validity_period_months",
                    models.IntegerField(
                        default=12, verbose_name="Validity Period (Months)"
                    ),
                ),
                ("notes", models.TextField(blank=True, verbose_name="Notes")),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="Created At"),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "employee",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="id_card_requests",
                        to="hr.employee",
                        verbose_name="Employee",
                    ),
                ),
            ],
            options={
                "verbose_name": "ID Card Request",
                "verbose_name_plural": "ID Card Requests",
                "ordering": ["-request_date"],
            },
        ),
        migrations.CreateModel(
            name="IDCard",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "card_number",
                    models.CharField(
                        max_length=50, unique=True, verbose_name="Card Number"
                    ),
                ),
                (
                    "card_type",
                    models.CharField(
                        choices=[
                            ("regular", "Regular"),
                            ("temporary", "Temporary"),
                            ("visitor", "Visitor"),
                        ],
                        default="regular",
                        max_length=20,
                        verbose_name="Card Type",
                    ),
                ),
                ("issue_date", models.DateField(verbose_name="Issue Date")),
                ("expiry_date", models.DateField(verbose_name="Expiry Date")),
                (
                    "qr_code",
                    models.CharField(
                        max_length=255, unique=True, verbose_name="QR Code"
                    ),
                ),
                (
                    "barcode",
                    models.CharField(
                        max_length=255, unique=True, verbose_name="Barcode"
                    ),
                ),
                (
                    "is_active",
                    models.BooleanField(default=True, verbose_name="Is Active"),
                ),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="Created At"),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "employee",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="id_cards",
                        to="hr.employee",
                        verbose_name="Employee",
                    ),
                ),
                (
                    "card_request",
                    models.OneToOneField(
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="issued_card",
                        to="hr.idcardrequest",
                        verbose_name="Card Request",
                    ),
                ),
            ],
            options={
                "verbose_name": "ID Card",
                "verbose_name_plural": "ID Cards",
                "ordering": ["-issue_date"],
            },
        ),
        migrations.CreateModel(
            name="OnboardingTaskInstance",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("title", models.CharField(max_length=200, verbose_name="Title")),
                (
                    "description",
                    models.TextField(blank=True, verbose_name="Description"),
                ),
                (
                    "task_type",
                    models.CharField(max_length=20, verbose_name="Task Type"),
                ),
                ("priority", models.CharField(max_length=10, verbose_name="Priority")),
                (
                    "estimated_hours",
                    models.FloatField(default=1.0, verbose_name="Estimated Hours"),
                ),
                ("due_date", models.DateField(verbose_name="Due Date")),
                (
                    "start_date",
                    models.DateField(blank=True, null=True, verbose_name="Start Date"),
                ),
                (
                    "completion_date",
                    models.DateField(
                        blank=True, null=True, verbose_name="Completion Date"
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("pending", "Pending"),
                            ("in_progress", "In Progress"),
                            ("completed", "Completed"),
                            ("skipped", "Skipped"),
                            ("overdue", "Overdue"),
                        ],
                        default="pending",
                        max_length=20,
                        verbose_name="Status",
                    ),
                ),
                (
                    "actual_hours",
                    models.FloatField(
                        blank=True, null=True, verbose_name="Actual Hours"
                    ),
                ),
                (
                    "completion_notes",
                    models.TextField(blank=True, verbose_name="Completion Notes"),
                ),
                (
                    "attachments",
                    models.FileField(
                        blank=True,
                        null=True,
                        upload_to="onboarding_attachments/",
                        verbose_name="Attachments",
                    ),
                ),
                (
                    "requires_approval",
                    models.BooleanField(
                        default=False, verbose_name="Requires Approval"
                    ),
                ),
                (
                    "approved_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Approved At"
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="Created At"),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "approved_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="approved_onboarding_tasks",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "assigned_to",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="assigned_onboarding_tasks",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "onboarding",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="task_instances",
                        to="hr.employeeonboarding",
                    ),
                ),
                (
                    "task",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        to="hr.onboardingtask",
                    ),
                ),
            ],
            options={
                "verbose_name": "Onboarding Task Instance",
                "verbose_name_plural": "Onboarding Task Instances",
                "ordering": ["due_date", "priority"],
            },
        ),
        migrations.CreateModel(
            name="OnboardingTemplate",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "name",
                    models.CharField(max_length=100, verbose_name="Template Name"),
                ),
                (
                    "description",
                    models.TextField(blank=True, verbose_name="Description"),
                ),
                (
                    "total_duration_days",
                    models.PositiveIntegerField(
                        default=30, verbose_name="Total Duration (Days)"
                    ),
                ),
                (
                    "probation_period_days",
                    models.PositiveIntegerField(
                        default=90, verbose_name="Probation Period (Days)"
                    ),
                ),
                (
                    "assign_buddy",
                    models.BooleanField(default=True, verbose_name="Assign Buddy"),
                ),
                (
                    "create_user_account",
                    models.BooleanField(
                        default=True, verbose_name="Create User Account"
                    ),
                ),
                (
                    "send_welcome_email",
                    models.BooleanField(
                        default=True, verbose_name="Send Welcome Email"
                    ),
                ),
                ("is_active", models.BooleanField(default=True, verbose_name="Active")),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="Created At"),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "department",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="onboarding_templates",
                        to="hr.department",
                        verbose_name="Department",
                    ),
                ),
            ],
            options={
                "verbose_name": "Onboarding Template",
                "verbose_name_plural": "Onboarding Templates",
                "ordering": ["name"],
            },
        ),
        migrations.AddField(
            model_name="onboardingtask",
            name="template",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="tasks",
                to="hr.onboardingtemplate",
            ),
        ),
        migrations.AddField(
            model_name="employeeonboarding",
            name="template",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE, to="hr.onboardingtemplate"
            ),
        ),
        migrations.CreateModel(
            name="OvertimeClaim",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("claim_date", models.DateField(verbose_name="Claim Date")),
                ("work_date", models.DateField(verbose_name="Work Date")),
                ("start_time", models.TimeField(verbose_name="Start Time")),
                ("end_time", models.TimeField(verbose_name="End Time")),
                (
                    "regular_hours",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=4,
                        verbose_name="Regular Hours",
                    ),
                ),
                (
                    "overtime_hours",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=4,
                        verbose_name="Overtime Hours",
                    ),
                ),
                (
                    "total_hours",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=4,
                        verbose_name="Total Hours",
                    ),
                ),
                (
                    "project_name",
                    models.CharField(
                        blank=True, max_length=200, verbose_name="Project/Task"
                    ),
                ),
                ("reason", models.TextField(verbose_name="Reason/Justification")),
                (
                    "is_weekend",
                    models.BooleanField(default=False, verbose_name="Weekend Work"),
                ),
                (
                    "is_holiday",
                    models.BooleanField(default=False, verbose_name="Holiday Work"),
                ),
                (
                    "is_emergency",
                    models.BooleanField(default=False, verbose_name="Emergency Work"),
                ),
                (
                    "hourly_rate",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=8,
                        verbose_name="Hourly Rate",
                    ),
                ),
                (
                    "overtime_rate",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=8,
                        verbose_name="Overtime Rate",
                    ),
                ),
                (
                    "rate_multiplier",
                    models.DecimalField(
                        decimal_places=2,
                        default=1.5,
                        max_digits=4,
                        verbose_name="Rate Multiplier",
                    ),
                ),
                (
                    "total_amount",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=10,
                        verbose_name="Total Amount",
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("draft", "Draft"),
                            ("submitted", "Submitted"),
                            ("approved", "Approved"),
                            ("rejected", "Rejected"),
                            ("paid", "Paid"),
                            ("cancelled", "Cancelled"),
                        ],
                        default="draft",
                        max_length=20,
                        verbose_name="Status",
                    ),
                ),
                (
                    "submitted_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Submitted At"
                    ),
                ),
                (
                    "approved_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Approved At"
                    ),
                ),
                (
                    "rejection_reason",
                    models.TextField(blank=True, verbose_name="Rejection Reason"),
                ),
                (
                    "payroll_period",
                    models.CharField(
                        blank=True,
                        help_text="e.g., 2024-01 for January 2024",
                        max_length=20,
                        verbose_name="Payroll Period",
                    ),
                ),
                (
                    "paid_at",
                    models.DateTimeField(blank=True, null=True, verbose_name="Paid At"),
                ),
                (
                    "payroll_reference",
                    models.CharField(
                        blank=True, max_length=100, verbose_name="Payroll Reference"
                    ),
                ),
                ("notes", models.TextField(blank=True, verbose_name="Notes")),
                (
                    "attachments",
                    models.FileField(
                        blank=True,
                        null=True,
                        upload_to="overtime_attachments/",
                        verbose_name="Attachments",
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="Created At"),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "approved_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="approved_overtime_claims",
                        to="hr.employee",
                        verbose_name="Approved By",
                    ),
                ),
                (
                    "employee",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="overtime_claims",
                        to="hr.employee",
                        verbose_name="Employee",
                    ),
                ),
            ],
            options={
                "verbose_name": "Overtime Claim",
                "verbose_name_plural": "Overtime Claims",
                "ordering": ["-work_date", "-created_at"],
            },
        ),
        migrations.CreateModel(
            name="OvertimeApproval",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "action",
                    models.CharField(
                        choices=[
                            ("submitted", "Submitted"),
                            ("approved", "Approved"),
                            ("rejected", "Rejected"),
                            ("returned", "Returned for Revision"),
                            ("cancelled", "Cancelled"),
                        ],
                        max_length=20,
                        verbose_name="Action",
                    ),
                ),
                (
                    "approver_role",
                    models.CharField(
                        blank=True, max_length=50, verbose_name="Approver Role"
                    ),
                ),
                ("comments", models.TextField(blank=True, verbose_name="Comments")),
                (
                    "suggestions",
                    models.TextField(blank=True, verbose_name="Suggestions"),
                ),
                (
                    "approved_hours",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        max_digits=4,
                        null=True,
                        verbose_name="Approved Hours",
                    ),
                ),
                (
                    "approved_amount",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        max_digits=10,
                        null=True,
                        verbose_name="Approved Amount",
                    ),
                ),
                ("conditions", models.TextField(blank=True, verbose_name="Conditions")),
                (
                    "approval_level",
                    models.IntegerField(default=1, verbose_name="Approval Level"),
                ),
                (
                    "is_final_approval",
                    models.BooleanField(default=True, verbose_name="Final Approval"),
                ),
                (
                    "ip_address",
                    models.GenericIPAddressField(
                        blank=True, null=True, verbose_name="IP Address"
                    ),
                ),
                (
                    "user_agent",
                    models.CharField(
                        blank=True, max_length=500, verbose_name="User Agent"
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="Created At"),
                ),
                (
                    "approver",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="overtime_approvals",
                        to="hr.employee",
                        verbose_name="Approver",
                    ),
                ),
                (
                    "next_approver",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="pending_overtime_approvals",
                        to="hr.employee",
                    ),
                ),
                (
                    "overtime_claim",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="approvals",
                        to="hr.overtimeclaim",
                        verbose_name="Overtime Claim",
                    ),
                ),
            ],
            options={
                "verbose_name": "Overtime Approval",
                "verbose_name_plural": "Overtime Approvals",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="OvertimePolicy",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("name", models.CharField(max_length=100, verbose_name="Policy Name")),
                (
                    "description",
                    models.TextField(blank=True, verbose_name="Description"),
                ),
                (
                    "daily_threshold_hours",
                    models.DecimalField(
                        decimal_places=2,
                        default=8.0,
                        help_text="Hours after which overtime applies",
                        max_digits=4,
                        verbose_name="Daily Threshold (Hours)",
                    ),
                ),
                (
                    "weekly_threshold_hours",
                    models.DecimalField(
                        decimal_places=2,
                        default=40.0,
                        help_text="Weekly hours after which overtime applies",
                        max_digits=4,
                        verbose_name="Weekly Threshold (Hours)",
                    ),
                ),
                (
                    "rate_type",
                    models.CharField(
                        choices=[
                            ("fixed", "Fixed Rate"),
                            ("multiplier", "Hourly Rate Multiplier"),
                            ("tiered", "Tiered Rate"),
                        ],
                        default="multiplier",
                        max_length=20,
                        verbose_name="Rate Type",
                    ),
                ),
                (
                    "standard_overtime_multiplier",
                    models.DecimalField(
                        decimal_places=2,
                        default=1.5,
                        help_text="e.g., 1.5 for 1.5x regular rate",
                        max_digits=4,
                        verbose_name="Standard Overtime Multiplier",
                    ),
                ),
                (
                    "extended_overtime_multiplier",
                    models.DecimalField(
                        decimal_places=2,
                        default=2.0,
                        help_text="Rate after extended hours",
                        max_digits=4,
                        verbose_name="Extended Overtime Multiplier",
                    ),
                ),
                (
                    "extended_hours_threshold",
                    models.DecimalField(
                        decimal_places=2,
                        default=2.0,
                        help_text="Hours before extended rate applies",
                        max_digits=4,
                        verbose_name="Extended Hours Threshold",
                    ),
                ),
                (
                    "weekend_multiplier",
                    models.DecimalField(
                        decimal_places=2,
                        default=1.5,
                        help_text="Weekend overtime rate",
                        max_digits=4,
                        verbose_name="Weekend Multiplier",
                    ),
                ),
                (
                    "holiday_multiplier",
                    models.DecimalField(
                        decimal_places=2,
                        default=2.0,
                        help_text="Holiday overtime rate",
                        max_digits=4,
                        verbose_name="Holiday Multiplier",
                    ),
                ),
                (
                    "fixed_hourly_rate",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        help_text="Fixed rate per hour",
                        max_digits=8,
                        null=True,
                        verbose_name="Fixed Hourly Rate",
                    ),
                ),
                (
                    "requires_pre_approval",
                    models.BooleanField(
                        default=True, verbose_name="Requires Pre-Approval"
                    ),
                ),
                (
                    "approval_level",
                    models.CharField(
                        choices=[
                            ("manager", "Manager Approval"),
                            ("hr", "HR Approval"),
                            ("department_head", "Department Head Approval"),
                            ("executive", "Executive Approval"),
                        ],
                        default="manager",
                        max_length=20,
                        verbose_name="Approval Level",
                    ),
                ),
                (
                    "max_daily_overtime",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        help_text="Maximum overtime hours per day",
                        max_digits=4,
                        null=True,
                        verbose_name="Max Daily Overtime (Hours)",
                    ),
                ),
                (
                    "max_weekly_overtime",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        help_text="Maximum overtime hours per week",
                        max_digits=4,
                        null=True,
                        verbose_name="Max Weekly Overtime (Hours)",
                    ),
                ),
                (
                    "auto_calculate",
                    models.BooleanField(
                        default=True, verbose_name="Auto Calculate from Timecard"
                    ),
                ),
                ("is_active", models.BooleanField(default=True, verbose_name="Active")),
                (
                    "effective_date",
                    models.DateField(
                        default=datetime.date.today, verbose_name="Effective Date"
                    ),
                ),
                (
                    "end_date",
                    models.DateField(blank=True, null=True, verbose_name="End Date"),
                ),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="Created At"),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "departments",
                    models.ManyToManyField(
                        blank=True,
                        related_name="overtime_policies",
                        to="hr.department",
                        verbose_name="Applicable Departments",
                    ),
                ),
                (
                    "employees",
                    models.ManyToManyField(
                        blank=True,
                        related_name="overtime_policies",
                        to="hr.employee",
                        verbose_name="Specific Employees",
                    ),
                ),
            ],
            options={
                "verbose_name": "Overtime Policy",
                "verbose_name_plural": "Overtime Policies",
                "ordering": ["-created_at"],
            },
        ),
        migrations.AddField(
            model_name="overtimeclaim",
            name="overtime_policy",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="claims",
                to="hr.overtimepolicy",
                verbose_name="Overtime Policy",
            ),
        ),
        migrations.CreateModel(
            name="OvertimeReport",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "report_type",
                    models.CharField(
                        choices=[
                            ("monthly", "Monthly Report"),
                            ("weekly", "Weekly Report"),
                            ("employee", "Employee Report"),
                            ("department", "Department Report"),
                            ("project", "Project Report"),
                        ],
                        max_length=20,
                        verbose_name="Report Type",
                    ),
                ),
                ("title", models.CharField(max_length=200, verbose_name="Title")),
                ("start_date", models.DateField(verbose_name="Start Date")),
                ("end_date", models.DateField(verbose_name="End Date")),
                (
                    "summary_data",
                    models.JSONField(default=dict, verbose_name="Summary Data"),
                ),
                (
                    "total_claims",
                    models.IntegerField(default=0, verbose_name="Total Claims"),
                ),
                (
                    "total_hours",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=8,
                        verbose_name="Total Hours",
                    ),
                ),
                (
                    "total_amount",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=12,
                        verbose_name="Total Amount",
                    ),
                ),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="Created At"),
                ),
                (
                    "department",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        to="hr.department",
                    ),
                ),
                (
                    "employee",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.CASCADE,
                        to="hr.employee",
                    ),
                ),
                (
                    "generated_by",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="generated_overtime_reports",
                        to="hr.employee",
                    ),
                ),
            ],
            options={
                "verbose_name": "Overtime Report",
                "verbose_name_plural": "Overtime Reports",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="PayrollComponent",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "name",
                    models.CharField(max_length=100, verbose_name="Component Name"),
                ),
                (
                    "code",
                    models.CharField(
                        max_length=20, unique=True, verbose_name="Component Code"
                    ),
                ),
                (
                    "component_type",
                    models.CharField(
                        choices=[
                            ("earning", "Earning"),
                            ("deduction", "Deduction"),
                            ("employer_contribution", "Employer Contribution"),
                        ],
                        max_length=30,
                        verbose_name="Type",
                    ),
                ),
                (
                    "calculation_type",
                    models.CharField(
                        choices=[
                            ("fixed", "Fixed Amount"),
                            ("percentage", "Percentage of Basic"),
                            ("percentage_gross", "Percentage of Gross"),
                            ("formula", "Custom Formula"),
                        ],
                        default="fixed",
                        max_length=20,
                        verbose_name="Calculation Type",
                    ),
                ),
                (
                    "is_taxable",
                    models.BooleanField(default=True, verbose_name="Taxable"),
                ),
                (
                    "is_mandatory",
                    models.BooleanField(default=False, verbose_name="Mandatory"),
                ),
                (
                    "is_variable",
                    models.BooleanField(default=False, verbose_name="Variable"),
                ),
                (
                    "default_amount",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        max_digits=10,
                        null=True,
                        verbose_name="Default Amount",
                    ),
                ),
                (
                    "percentage_value",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        max_digits=5,
                        null=True,
                        verbose_name="Percentage Value",
                    ),
                ),
                (
                    "min_amount",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        max_digits=10,
                        null=True,
                        verbose_name="Minimum Amount",
                    ),
                ),
                (
                    "max_amount",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        max_digits=10,
                        null=True,
                        verbose_name="Maximum Amount",
                    ),
                ),
                (
                    "calculation_formula",
                    models.TextField(
                        blank=True,
                        help_text="Python expression for complex calculations",
                        verbose_name="Calculation Formula",
                    ),
                ),
                (
                    "display_order",
                    models.IntegerField(default=1, verbose_name="Display Order"),
                ),
                (
                    "show_in_payslip",
                    models.BooleanField(default=True, verbose_name="Show in Payslip"),
                ),
                (
                    "applicable_to_all",
                    models.BooleanField(
                        default=True, verbose_name="Applicable to All Employees"
                    ),
                ),
                ("is_active", models.BooleanField(default=True, verbose_name="Active")),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="Created At"),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "departments",
                    models.ManyToManyField(
                        blank=True,
                        related_name="payroll_components",
                        to="hr.department",
                    ),
                ),
            ],
            options={
                "verbose_name": "Payroll Component",
                "verbose_name_plural": "Payroll Components",
                "ordering": ["component_type", "display_order", "name"],
            },
        ),
        migrations.CreateModel(
            name="EmployeeSalaryComponent",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "custom_amount",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        max_digits=10,
                        null=True,
                        verbose_name="Custom Amount",
                    ),
                ),
                (
                    "custom_percentage",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        max_digits=5,
                        null=True,
                        verbose_name="Custom Percentage",
                    ),
                ),
                ("is_active", models.BooleanField(default=True, verbose_name="Active")),
                (
                    "effective_date",
                    models.DateField(
                        default=datetime.date.today, verbose_name="Effective Date"
                    ),
                ),
                (
                    "end_date",
                    models.DateField(blank=True, null=True, verbose_name="End Date"),
                ),
                ("notes", models.TextField(blank=True, verbose_name="Notes")),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="Created At"),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "employee_salary",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="components",
                        to="hr.employeesalary",
                    ),
                ),
                (
                    "payroll_component",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="employee_components",
                        to="hr.payrollcomponent",
                    ),
                ),
            ],
            options={
                "verbose_name": "Employee Salary Component",
                "verbose_name_plural": "Employee Salary Components",
            },
        ),
        migrations.CreateModel(
            name="PayrollPeriod",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("name", models.CharField(max_length=50, verbose_name="Period Name")),
                ("start_date", models.DateField(verbose_name="Start Date")),
                ("end_date", models.DateField(verbose_name="End Date")),
                ("pay_date", models.DateField(verbose_name="Pay Date")),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("draft", "Draft"),
                            ("active", "Active"),
                            ("locked", "Locked"),
                            ("processed", "Processed"),
                            ("closed", "Closed"),
                        ],
                        default="draft",
                        max_length=20,
                        verbose_name="Status",
                    ),
                ),
                (
                    "total_employees",
                    models.IntegerField(default=0, verbose_name="Total Employees"),
                ),
                (
                    "processed_employees",
                    models.IntegerField(default=0, verbose_name="Processed Employees"),
                ),
                (
                    "total_gross_pay",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=15,
                        verbose_name="Total Gross Pay",
                    ),
                ),
                (
                    "total_deductions",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=15,
                        verbose_name="Total Deductions",
                    ),
                ),
                (
                    "total_net_pay",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=15,
                        verbose_name="Total Net Pay",
                    ),
                ),
                (
                    "processed_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Processed At"
                    ),
                ),
                ("notes", models.TextField(blank=True, verbose_name="Notes")),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="Created At"),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "processed_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="processed_payroll_periods",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "payroll_policy",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="periods",
                        to="hr.payrollpolicy",
                        verbose_name="Payroll Policy",
                    ),
                ),
            ],
            options={
                "verbose_name": "Payroll Period",
                "verbose_name_plural": "Payroll Periods",
                "ordering": ["-start_date"],
            },
        ),
        migrations.CreateModel(
            name="PayrollRun",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "run_number",
                    models.IntegerField(default=1, verbose_name="Run Number"),
                ),
                (
                    "run_date",
                    models.DateTimeField(auto_now_add=True, verbose_name="Run Date"),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("draft", "Draft"),
                            ("calculating", "Calculating"),
                            ("calculated", "Calculated"),
                            ("approved", "Approved"),
                            ("processed", "Processed"),
                            ("failed", "Failed"),
                        ],
                        default="draft",
                        max_length=20,
                        verbose_name="Status",
                    ),
                ),
                (
                    "total_employees_processed",
                    models.IntegerField(
                        default=0, verbose_name="Total Employees Processed"
                    ),
                ),
                (
                    "total_gross_pay",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=15,
                        verbose_name="Total Gross Pay",
                    ),
                ),
                (
                    "total_deductions",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=15,
                        verbose_name="Total Deductions",
                    ),
                ),
                (
                    "total_net_pay",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=15,
                        verbose_name="Total Net Pay",
                    ),
                ),
                (
                    "processing_started_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Processing Started"
                    ),
                ),
                (
                    "processing_completed_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Processing Completed"
                    ),
                ),
                (
                    "approved_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Approved At"
                    ),
                ),
                (
                    "error_message",
                    models.TextField(blank=True, verbose_name="Error Message"),
                ),
                (
                    "processing_log",
                    models.TextField(blank=True, verbose_name="Processing Log"),
                ),
                ("notes", models.TextField(blank=True, verbose_name="Notes")),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="Created At"),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "approved_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="approved_payroll_runs",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "departments",
                    models.ManyToManyField(
                        blank=True, related_name="payroll_runs", to="hr.department"
                    ),
                ),
                (
                    "employees",
                    models.ManyToManyField(
                        blank=True, related_name="payroll_runs", to="hr.employee"
                    ),
                ),
                (
                    "payroll_period",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="payroll_runs",
                        to="hr.payrollperiod",
                    ),
                ),
                (
                    "processed_by",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="processed_payrolls",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "Payroll Run",
                "verbose_name_plural": "Payroll Runs",
                "ordering": ["-run_date"],
            },
        ),
        migrations.CreateModel(
            name="PayrollEntry",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "working_days",
                    models.IntegerField(default=0, verbose_name="Working Days"),
                ),
                (
                    "actual_working_days",
                    models.IntegerField(default=0, verbose_name="Actual Working Days"),
                ),
                (
                    "overtime_hours",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=6,
                        verbose_name="Overtime Hours",
                    ),
                ),
                (
                    "leave_days",
                    models.IntegerField(default=0, verbose_name="Leave Days"),
                ),
                (
                    "unpaid_leave_days",
                    models.IntegerField(default=0, verbose_name="Unpaid Leave Days"),
                ),
                (
                    "basic_salary",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=12,
                        verbose_name="Basic Salary",
                    ),
                ),
                (
                    "gross_salary",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=12,
                        verbose_name="Gross Salary",
                    ),
                ),
                (
                    "total_earnings",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=12,
                        verbose_name="Total Earnings",
                    ),
                ),
                (
                    "total_deductions",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=12,
                        verbose_name="Total Deductions",
                    ),
                ),
                (
                    "net_salary",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=12,
                        verbose_name="Net Salary",
                    ),
                ),
                (
                    "taxable_income",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=12,
                        verbose_name="Taxable Income",
                    ),
                ),
                (
                    "tax_amount",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=10,
                        verbose_name="Tax Amount",
                    ),
                ),
                (
                    "performance_bonus",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=10,
                        verbose_name="Performance Bonus",
                    ),
                ),
                (
                    "project_bonus",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=10,
                        verbose_name="Project Bonus",
                    ),
                ),
                (
                    "other_earnings",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=10,
                        verbose_name="Other Earnings",
                    ),
                ),
                (
                    "advance_deduction",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=10,
                        verbose_name="Advance Deduction",
                    ),
                ),
                (
                    "loan_deduction",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=10,
                        verbose_name="Loan Deduction",
                    ),
                ),
                (
                    "other_deductions",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=10,
                        verbose_name="Other Deductions",
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("draft", "Draft"),
                            ("calculated", "Calculated"),
                            ("approved", "Approved"),
                            ("paid", "Paid"),
                            ("hold", "On Hold"),
                            ("cancelled", "Cancelled"),
                        ],
                        default="draft",
                        max_length=20,
                        verbose_name="Status",
                    ),
                ),
                (
                    "calculation_date",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Calculation Date"
                    ),
                ),
                (
                    "approved_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Approved At"
                    ),
                ),
                (
                    "paid_at",
                    models.DateTimeField(blank=True, null=True, verbose_name="Paid At"),
                ),
                (
                    "payment_reference",
                    models.CharField(
                        blank=True, max_length=100, verbose_name="Payment Reference"
                    ),
                ),
                (
                    "calculation_details",
                    models.JSONField(default=dict, verbose_name="Calculation Details"),
                ),
                ("notes", models.TextField(blank=True, verbose_name="Notes")),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="Created At"),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "approved_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="approved_payroll_entries",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "employee",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="payroll_entries",
                        to="hr.employee",
                    ),
                ),
                (
                    "employee_salary",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="payroll_entries",
                        to="hr.employeesalary",
                    ),
                ),
                (
                    "payroll_run",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="entries",
                        to="hr.payrollrun",
                    ),
                ),
            ],
            options={
                "verbose_name": "Payroll Entry",
                "verbose_name_plural": "Payroll Entries",
                "ordering": ["-payroll_run__run_date", "employee__employee_id"],
            },
        ),
        migrations.CreateModel(
            name="PaySlip",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "payslip_number",
                    models.CharField(
                        max_length=50, unique=True, verbose_name="Payslip Number"
                    ),
                ),
                (
                    "generation_date",
                    models.DateTimeField(
                        auto_now_add=True, verbose_name="Generation Date"
                    ),
                ),
                (
                    "pdf_file",
                    models.FileField(
                        blank=True,
                        null=True,
                        upload_to="payslips/",
                        verbose_name="PDF File",
                    ),
                ),
                (
                    "pdf_generated_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="PDF Generated At"
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("draft", "Draft"),
                            ("generated", "Generated"),
                            ("sent", "Sent"),
                            ("viewed", "Viewed"),
                        ],
                        default="draft",
                        max_length=20,
                        verbose_name="Status",
                    ),
                ),
                (
                    "sent_at",
                    models.DateTimeField(blank=True, null=True, verbose_name="Sent At"),
                ),
                (
                    "viewed_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Viewed At"
                    ),
                ),
                (
                    "sent_to_email",
                    models.EmailField(
                        blank=True, max_length=254, verbose_name="Sent to Email"
                    ),
                ),
                (
                    "email_delivery_status",
                    models.CharField(
                        blank=True, max_length=50, verbose_name="Email Delivery Status"
                    ),
                ),
                ("notes", models.TextField(blank=True, verbose_name="Notes")),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="Created At"),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "payroll_entry",
                    models.OneToOneField(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="payslip",
                        to="hr.payrollentry",
                    ),
                ),
            ],
            options={
                "verbose_name": "Pay Slip",
                "verbose_name_plural": "Pay Slips",
                "ordering": ["-generation_date"],
            },
        ),
        migrations.CreateModel(
            name="Position",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "name",
                    models.CharField(max_length=100, verbose_name="Position Name"),
                ),
                (
                    "code",
                    models.CharField(
                        max_length=20, unique=True, verbose_name="Position Code"
                    ),
                ),
                (
                    "description",
                    models.TextField(blank=True, verbose_name="Description"),
                ),
                ("level", models.IntegerField(default=1, verbose_name="Level")),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="Created At"),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "department",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="positions",
                        to="hr.department",
                        verbose_name="Department",
                    ),
                ),
            ],
            options={
                "verbose_name": "Position",
                "verbose_name_plural": "Positions",
                "ordering": ["department", "level"],
            },
        ),
        migrations.AddField(
            model_name="payrollcomponent",
            name="positions",
            field=models.ManyToManyField(
                blank=True, related_name="payroll_components", to="hr.position"
            ),
        ),
        migrations.AddField(
            model_name="overtimepolicy",
            name="positions",
            field=models.ManyToManyField(
                blank=True,
                related_name="overtime_policies",
                to="hr.position",
                verbose_name="Applicable Positions",
            ),
        ),
        migrations.AddField(
            model_name="onboardingtemplate",
            name="position",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.CASCADE,
                related_name="onboarding_templates",
                to="hr.position",
                verbose_name="Position",
            ),
        ),
        migrations.AddField(
            model_name="employee",
            name="position",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="employees",
                to="hr.position",
                verbose_name="Position",
            ),
        ),
        migrations.CreateModel(
            name="ProbationPeriod",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                ("start_date", models.DateField(verbose_name="Start Date")),
                (
                    "original_end_date",
                    models.DateField(verbose_name="Original End Date"),
                ),
                (
                    "actual_end_date",
                    models.DateField(
                        blank=True, null=True, verbose_name="Actual End Date"
                    ),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("active", "Active"),
                            ("completed", "Completed"),
                            ("extended", "Extended"),
                            ("failed", "Failed"),
                        ],
                        default="active",
                        max_length=20,
                        verbose_name="Status",
                    ),
                ),
                (
                    "evaluation_notes",
                    models.TextField(blank=True, verbose_name="Evaluation Notes"),
                ),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="Created At"),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "employee",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="probation_periods",
                        to="hr.employee",
                        verbose_name="Employee",
                    ),
                ),
            ],
            options={
                "verbose_name": "Probation Period",
                "verbose_name_plural": "Probation Periods",
                "ordering": ["-start_date"],
            },
        ),
        migrations.CreateModel(
            name="ProbationExtension",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "extension_duration_days",
                    models.IntegerField(verbose_name="Extension Duration (Days)"),
                ),
                ("reason", models.TextField(verbose_name="Reason for Extension")),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="Created At"),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "probation_period",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="extensions",
                        to="hr.probationperiod",
                        verbose_name="Probation Period",
                    ),
                ),
            ],
            options={
                "verbose_name": "Probation Extension",
                "verbose_name_plural": "Probation Extensions",
                "ordering": ["-created_at"],
            },
        ),
        migrations.CreateModel(
            name="PromotionTransfer",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "change_type",
                    models.CharField(
                        choices=[
                            ("promotion", "Promotion"),
                            ("transfer", "Transfer"),
                            ("demotion", "Demotion"),
                            ("lateral_move", "Lateral Move"),
                        ],
                        max_length=20,
                        verbose_name="Change Type",
                    ),
                ),
                ("effective_date", models.DateField(verbose_name="Effective Date")),
                (
                    "announcement_date",
                    models.DateField(
                        blank=True, null=True, verbose_name="Announcement Date"
                    ),
                ),
                ("reason", models.TextField(verbose_name="Reason")),
                (
                    "salary_change",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=12,
                        verbose_name="Salary Change",
                    ),
                ),
                (
                    "salary_change_percentage",
                    models.FloatField(default=0, verbose_name="Salary Change %"),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("draft", "Draft"),
                            ("pending", "Pending Approval"),
                            ("approved", "Approved"),
                            ("implemented", "Implemented"),
                            ("rejected", "Rejected"),
                            ("cancelled", "Cancelled"),
                        ],
                        default="draft",
                        max_length=20,
                        verbose_name="Status",
                    ),
                ),
                (
                    "approved_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Approved At"
                    ),
                ),
                (
                    "rejection_reason",
                    models.TextField(blank=True, verbose_name="Rejection Reason"),
                ),
                (
                    "implemented_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Implemented At"
                    ),
                ),
                ("notes", models.TextField(blank=True, verbose_name="Notes")),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="Created At"),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "approved_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="approved_promotions",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "current_department",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="current_promotions",
                        to="hr.department",
                        verbose_name="Current Department",
                    ),
                ),
                (
                    "current_position",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="current_promotions",
                        to="hr.position",
                        verbose_name="Current Position",
                    ),
                ),
                (
                    "employee",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="promotion_transfers",
                        to="hr.employee",
                    ),
                ),
                (
                    "implemented_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="implemented_promotions",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "new_department",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="new_promotions",
                        to="hr.department",
                        verbose_name="New Department",
                    ),
                ),
                (
                    "new_position",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="new_promotions",
                        to="hr.position",
                        verbose_name="New Position",
                    ),
                ),
                (
                    "requested_by",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="requested_promotions",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
            ],
            options={
                "verbose_name": "Promotion/Transfer",
                "verbose_name_plural": "Promotions/Transfers",
                "ordering": ["-effective_date"],
            },
        ),
        migrations.CreateModel(
            name="SalaryAdvance",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "request_date",
                    models.DateField(auto_now_add=True, verbose_name="Request Date"),
                ),
                (
                    "advance_amount",
                    models.DecimalField(
                        decimal_places=2, max_digits=10, verbose_name="Advance Amount"
                    ),
                ),
                ("reason", models.TextField(verbose_name="Reason")),
                (
                    "installments",
                    models.IntegerField(
                        default=1, verbose_name="Number of Installments"
                    ),
                ),
                (
                    "installment_amount",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=10,
                        verbose_name="Installment Amount",
                    ),
                ),
                (
                    "recovery_start_month",
                    models.DateField(verbose_name="Recovery Start Month"),
                ),
                (
                    "status",
                    models.CharField(
                        choices=[
                            ("requested", "Requested"),
                            ("approved", "Approved"),
                            ("rejected", "Rejected"),
                            ("paid", "Paid"),
                            ("fully_recovered", "Fully Recovered"),
                        ],
                        default="requested",
                        max_length=20,
                        verbose_name="Status",
                    ),
                ),
                (
                    "approved_at",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Approved At"
                    ),
                ),
                (
                    "approval_comments",
                    models.TextField(blank=True, verbose_name="Approval Comments"),
                ),
                (
                    "paid_at",
                    models.DateTimeField(blank=True, null=True, verbose_name="Paid At"),
                ),
                (
                    "payment_reference",
                    models.CharField(
                        blank=True, max_length=100, verbose_name="Payment Reference"
                    ),
                ),
                (
                    "total_recovered",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=10,
                        verbose_name="Total Recovered",
                    ),
                ),
                (
                    "balance_amount",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=10,
                        verbose_name="Balance Amount",
                    ),
                ),
                ("notes", models.TextField(blank=True, verbose_name="Notes")),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="Created At"),
                ),
                (
                    "updated_at",
                    models.DateTimeField(auto_now=True, verbose_name="Updated At"),
                ),
                (
                    "approved_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="hr_approved_advances",
                        to=settings.AUTH_USER_MODEL,
                    ),
                ),
                (
                    "employee",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="hr_salary_advances",
                        to="hr.employee",
                    ),
                ),
            ],
            options={
                "verbose_name": "Salary Advance",
                "verbose_name_plural": "Salary Advances",
                "ordering": ["-request_date"],
            },
        ),
        migrations.CreateModel(
            name="SalaryAdvanceRecovery",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "recovery_amount",
                    models.DecimalField(
                        decimal_places=2, max_digits=10, verbose_name="Recovery Amount"
                    ),
                ),
                (
                    "installment_number",
                    models.IntegerField(verbose_name="Installment Number"),
                ),
                (
                    "recovery_date",
                    models.DateField(auto_now_add=True, verbose_name="Recovery Date"),
                ),
                ("notes", models.TextField(blank=True, verbose_name="Notes")),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="Created At"),
                ),
                (
                    "payroll_entry",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="advance_recoveries",
                        to="hr.payrollentry",
                    ),
                ),
                (
                    "salary_advance",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="recoveries",
                        to="hr.salaryadvance",
                    ),
                ),
            ],
            options={
                "verbose_name": "Salary Advance Recovery",
                "verbose_name_plural": "Salary Advance Recoveries",
                "ordering": ["-recovery_date"],
            },
        ),
        migrations.CreateModel(
            name="TaxSlab",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "min_amount",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=12,
                        verbose_name="Minimum Amount",
                    ),
                ),
                (
                    "max_amount",
                    models.DecimalField(
                        blank=True,
                        decimal_places=2,
                        max_digits=12,
                        null=True,
                        verbose_name="Maximum Amount",
                    ),
                ),
                (
                    "tax_rate",
                    models.DecimalField(
                        decimal_places=2, max_digits=5, verbose_name="Tax Rate %"
                    ),
                ),
                (
                    "slab_order",
                    models.IntegerField(default=1, verbose_name="Slab Order"),
                ),
                (
                    "created_at",
                    models.DateTimeField(auto_now_add=True, verbose_name="Created At"),
                ),
                (
                    "payroll_policy",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="tax_slabs",
                        to="hr.payrollpolicy",
                    ),
                ),
            ],
            options={
                "verbose_name": "Tax Slab",
                "verbose_name_plural": "Tax Slabs",
                "ordering": ["payroll_policy", "slab_order", "min_amount"],
            },
        ),
        migrations.CreateModel(
            name="Timecard",
            fields=[
                (
                    "id",
                    models.BigAutoField(
                        auto_created=True,
                        primary_key=True,
                        serialize=False,
                        verbose_name="ID",
                    ),
                ),
                (
                    "year",
                    models.IntegerField(
                        validators=[
                            django.core.validators.MinValueValidator(2020),
                            django.core.validators.MaxValueValidator(2100),
                        ],
                        verbose_name="Year",
                    ),
                ),
                (
                    "month",
                    models.IntegerField(
                        validators=[
                            django.core.validators.MinValueValidator(1),
                            django.core.validators.MaxValueValidator(12),
                        ],
                        verbose_name="Month",
                    ),
                ),
                (
                    "department",
                    models.CharField(
                        blank=True, max_length=200, verbose_name="Department"
                    ),
                ),
                (
                    "position",
                    models.CharField(
                        blank=True, max_length=200, verbose_name="Position"
                    ),
                ),
                (
                    "total_hours",
                    models.DecimalField(
                        decimal_places=2,
                        default=0,
                        max_digits=5,
                        validators=[django.core.validators.MinValueValidator(0)],
                        verbose_name="Total Hours",
                    ),
                ),
                (
                    "approval_status",
                    models.CharField(
                        choices=[
                            ("draft", "Draft"),
                            ("submitted", "Submitted"),
                            ("approved", "Approved"),
                            ("rejected", "Rejected"),
                        ],
                        default="draft",
                        max_length=20,
                        verbose_name="Approval Status",
                    ),
                ),
                (
                    "approval_date",
                    models.DateTimeField(
                        blank=True, null=True, verbose_name="Approval Date"
                    ),
                ),
                ("notes", models.TextField(blank=True, verbose_name="Notes")),
                ("created_at", models.DateTimeField(auto_now_add=True)),
                ("updated_at", models.DateTimeField(auto_now=True)),
                (
                    "approved_by",
                    models.ForeignKey(
                        blank=True,
                        null=True,
                        on_delete=django.db.models.deletion.SET_NULL,
                        related_name="approved_timecards",
                        to="hr.employee",
                        verbose_name="Approved By",
                    ),
                ),
                (
                    "employee",
                    models.ForeignKey(
                        on_delete=django.db.models.deletion.CASCADE,
                        related_name="timecards",
                        to="hr.employee",
                        verbose_name="Employee",
                    ),
                ),
            ],
            options={
                "verbose_name": "Timecard",
                "verbose_name_plural": "Timecards",
                "ordering": ["-year", "-month"],
            },
        ),
    ]
