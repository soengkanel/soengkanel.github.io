<!-- Project Settings Tab Content -->
<div class="settings-content">
    {% if success_message %}
    <div class="alert alert-success" style="background: #f0fdf4; border: 1px solid #bbf7d0; color: #166534; padding: 0.75rem 1rem; border-radius: 6px; margin-bottom: 1.5rem; font-size: 0.875rem;">
        <svg style="display: inline-block; width: 16px; height: 16px; margin-right: 0.5rem;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
        </svg>
        {{ success_message }}
    </div>
    {% endif %}

    <form method="POST" action="{% url 'project:project_settings_save' project.id %}" hx-post="{% url 'project:project_settings_save' project.id %}" hx-target="#tab-content">
        {% csrf_token %}

        <!-- Site Working Hours Section -->
        <div class="settings-section" style="background: #ffffff; border: 1px solid #e5e5e5; border-radius: 4px; padding: 1rem; margin-bottom: 1rem;">
            <div class="section-header" style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem; padding-bottom: 0.75rem; border-bottom: 1px solid #f5f5f5;">
                <svg style="width: 16px; height: 16px; color: #999;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                <div style="flex: 1;">
                    <h3 style="font-size: 0.875rem; font-weight: 600; color: #1a1a1a; margin: 0;">Site Working Hours</h3>
                </div>
                <div class="form-check form-switch" style="margin: 0;">
                    {{ settings_form.use_custom_working_time }}
                    <label class="form-check-label" for="{{ settings_form.use_custom_working_time.id_for_label }}" style="font-size: 0.6875rem; color: #666; margin-left: 0.5rem;">
                        Custom
                    </label>
                </div>
            </div>

            <div id="working-time-fields" class="settings-fields" style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 0.75rem;">
                <div class="form-group">
                    <label style="display: block; font-size: 0.6875rem; font-weight: 500; color: #666; margin-bottom: 0.25rem;">Start Time</label>
                    {{ settings_form.monday_start }}
                </div>
                <div class="form-group">
                    <label style="display: block; font-size: 0.6875rem; font-weight: 500; color: #666; margin-bottom: 0.25rem;">End Time</label>
                    {{ settings_form.monday_end }}
                </div>
                <div class="form-group">
                    <label style="display: block; font-size: 0.6875rem; font-weight: 500; color: #666; margin-bottom: 0.25rem;">Break (min)</label>
                    {{ settings_form.break_duration }}
                </div>
                <div class="form-group">
                    <label style="display: block; font-size: 0.6875rem; font-weight: 500; color: #666; margin-bottom: 0.25rem;">Hours/Day</label>
                    {{ settings_form.required_hours_per_day }}
                </div>
                <div class="form-group">
                    <label style="display: block; font-size: 0.6875rem; font-weight: 500; color: #666; margin-bottom: 0.25rem;">Days/Week</label>
                    {{ settings_form.working_days_per_week }}
                </div>
            </div>

            <!-- Hidden fields for Tuesday-Sunday (same as Monday) -->
            <div style="display: none;">
                {{ settings_form.tuesday_start }}
                {{ settings_form.tuesday_end }}
                {{ settings_form.wednesday_start }}
                {{ settings_form.wednesday_end }}
                {{ settings_form.thursday_start }}
                {{ settings_form.thursday_end }}
                {{ settings_form.friday_start }}
                {{ settings_form.friday_end }}
                {{ settings_form.saturday_start }}
                {{ settings_form.saturday_end }}
                {{ settings_form.sunday_start }}
                {{ settings_form.sunday_end }}
                {{ settings_form.break_start }}
                {{ settings_form.flexible_hours }}
                {{ settings_form.core_hours_start }}
                {{ settings_form.core_hours_end }}
            </div>
        </div>

        <!-- Attendance Rules Section -->
        <div class="settings-section" style="background: #ffffff; border: 1px solid #e5e5e5; border-radius: 4px; padding: 1rem; margin-bottom: 1rem;">
            <div class="section-header" style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 1rem; padding-bottom: 0.75rem; border-bottom: 1px solid #f5f5f5;">
                <svg style="width: 16px; height: 16px; color: #999;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path>
                </svg>
                <div style="flex: 1;">
                    <h3 style="font-size: 0.875rem; font-weight: 600; color: #1a1a1a; margin: 0;">Attendance Rules</h3>
                </div>
                <div class="form-check form-switch" style="margin: 0;">
                    {{ settings_form.use_custom_attendance_rules }}
                    <label class="form-check-label" for="{{ settings_form.use_custom_attendance_rules.id_for_label }}" style="font-size: 0.6875rem; color: #666; margin-left: 0.5rem;">
                        Custom
                    </label>
                </div>
            </div>

            <div id="attendance-fields" class="settings-fields" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 0.75rem;">
                <div class="form-group">
                    <label style="display: block; font-size: 0.6875rem; font-weight: 500; color: #666; margin-bottom: 0.25rem;">Late Grace (min)</label>
                    {{ settings_form.late_grace_period }}
                </div>
                <div class="form-group">
                    <label style="display: block; font-size: 0.6875rem; font-weight: 500; color: #666; margin-bottom: 0.25rem;">Early Leave Grace (min)</label>
                    {{ settings_form.early_leave_grace_period }}
                </div>
            </div>

            <div class="mt-3" style="display: grid; gap: 0.5rem; margin-top: 0.75rem; padding-top: 0.75rem; border-top: 1px solid #f5f5f5;">
                <div class="form-check">
                    {{ settings_form.require_biometric_checkin }}
                    <label class="form-check-label" for="{{ settings_form.require_biometric_checkin.id_for_label }}" style="font-size: 0.75rem; font-weight: 500;">
                        Fingerprint/Biometric Check-in
                    </label>
                </div>
                <div class="form-check">
                    {{ settings_form.require_location_tracking }}
                    <label class="form-check-label" for="{{ settings_form.require_location_tracking.id_for_label }}" style="font-size: 0.75rem; font-weight: 500;">
                        GPS Location Tracking
                    </label>
                </div>
            </div>

            <!-- Hidden attendance fields -->
            <div style="display: none;">
                {{ settings_form.late_deduction_per_minute }}
                {{ settings_form.absence_deduction_per_day }}
                {{ settings_form.max_late_minutes_per_month }}
                {{ settings_form.max_absences_per_month }}
                {{ settings_form.allow_remote_attendance }}
            </div>
        </div>

        <!-- Form Actions -->
        <div style="display: flex; gap: 0.5rem; justify-content: flex-end; padding-top: 0.75rem; border-top: 1px solid #e5e5e5;">
            <button type="submit" class="button-min-primary py-1">
                Save
            </button>
        </div>
    </form>
</div>
