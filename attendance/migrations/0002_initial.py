# Generated by Django 5.2.1 on 2025-10-11 13:54

import django.db.models.deletion
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ("attendance", "0001_initial"),
        ("hr", "0001_initial"),
        ("project", "0001_initial"),
    ]

    operations = [
        migrations.AddField(
            model_name="attendancecorrection",
            name="approved_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="approved_corrections",
                to="hr.employee",
            ),
        ),
        migrations.AddField(
            model_name="attendancecorrection",
            name="requested_by",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="correction_requests",
                to="hr.employee",
            ),
        ),
        migrations.AddField(
            model_name="attendancerecord",
            name="approved_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="approved_attendance",
                to="hr.employee",
            ),
        ),
        migrations.AddField(
            model_name="attendancerecord",
            name="current_project",
            field=models.ForeignKey(
                blank=True,
                help_text="Project the employee is primarily working on today",
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="daily_attendance",
                to="project.project",
                verbose_name="Current Project",
            ),
        ),
        migrations.AddField(
            model_name="attendancerecord",
            name="employee",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="attendance_records",
                to="hr.employee",
            ),
        ),
        migrations.AddField(
            model_name="attendancecorrection",
            name="attendance",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="corrections",
                to="attendance.attendancerecord",
            ),
        ),
        migrations.AddField(
            model_name="attendancerecord",
            name="clock_in_device",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="clock_in_records",
                to="attendance.biometricdevice",
            ),
        ),
        migrations.AddField(
            model_name="attendancerecord",
            name="clock_out_device",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="clock_out_records",
                to="attendance.biometricdevice",
            ),
        ),
        migrations.AddField(
            model_name="biometrictemplate",
            name="device",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="templates",
                to="attendance.biometricdevice",
            ),
        ),
        migrations.AddField(
            model_name="biometrictemplate",
            name="employee",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="biometric_templates",
                to="hr.employee",
            ),
        ),
        migrations.AddField(
            model_name="breakrecord",
            name="attendance",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="breaks",
                to="attendance.attendancerecord",
            ),
        ),
        migrations.AddField(
            model_name="employeeschedule",
            name="employee",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="schedules",
                to="hr.employee",
            ),
        ),
        migrations.AddField(
            model_name="overtimerequest",
            name="approved_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="overtime_approved_by",
                to="hr.employee",
            ),
        ),
        migrations.AddField(
            model_name="overtimerequest",
            name="employee",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="overtime_requests",
                to="hr.employee",
            ),
        ),
        migrations.AddField(
            model_name="overtimerequest",
            name="project",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="overtime_requests",
                to="project.project",
                verbose_name="Project",
            ),
        ),
        migrations.AddField(
            model_name="overtimerequest",
            name="requested_by",
            field=models.ForeignKey(
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="overtime_requested_by",
                to="hr.employee",
            ),
        ),
        migrations.AddField(
            model_name="projectattendance",
            name="approved_by",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                related_name="approved_project_attendance",
                to="hr.employee",
                verbose_name="Approved By",
            ),
        ),
        migrations.AddField(
            model_name="projectattendance",
            name="attendance",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="project_assignments",
                to="attendance.attendancerecord",
            ),
        ),
        migrations.AddField(
            model_name="projectattendance",
            name="project",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="attendance_records",
                to="project.project",
            ),
        ),
        migrations.AddField(
            model_name="employeeschedule",
            name="schedule",
            field=models.ForeignKey(
                on_delete=django.db.models.deletion.CASCADE,
                related_name="employee_schedules",
                to="attendance.workschedule",
            ),
        ),
        migrations.AddField(
            model_name="attendancerecord",
            name="schedule",
            field=models.ForeignKey(
                blank=True,
                null=True,
                on_delete=django.db.models.deletion.SET_NULL,
                to="attendance.workschedule",
            ),
        ),
        migrations.AlterUniqueTogether(
            name="biometrictemplate",
            unique_together={("employee", "device", "template_type", "finger_index")},
        ),
        migrations.AlterUniqueTogether(
            name="projectattendance",
            unique_together={("attendance", "project")},
        ),
        migrations.AlterUniqueTogether(
            name="attendancerecord",
            unique_together={("employee", "date")},
        ),
    ]
